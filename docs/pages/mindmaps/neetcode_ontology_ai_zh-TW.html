<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sliding Window & Two Pointers ç²¾é€šåœ°åœ–ï¼ˆå« LeetCode å¯¦æˆ°ï¼‰ - NeetCode Mind Maps</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; }
        .markmap { width: 100%; height: 100%; }
        .markmap > svg { width: 100%; height: 100%; }
        #topbar {
            position: fixed; top: 0; left: 0; right: 0; z-index: 100;
            background: #fff; border-bottom: 1px solid #e5e7eb;
            padding: 8px 16px; display: flex; gap: 8px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            font-size: 13px;
        }
        #topbar button {
            padding: 4px 12px; border: 1px solid #d1d5db;
            border-radius: 4px; background: #fff; cursor: pointer;
        }
        #topbar button:hover { background: #f3f4f6; }
        .markmap { margin-top: 40px; height: calc(100% - 40px); }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <script src="https://cdn.jsdelivr.net/npm/markmap-view"></script>
    <script src="https://cdn.jsdelivr.net/npm/markmap-lib"></script>
    <script src="https://cdn.jsdelivr.net/npm/markmap-toolbar"></script>
    <script>
        function fitView() {
            var svg = document.querySelector('.markmap > svg');
            if (svg && svg.mm) svg.mm.fit();
        }
        function expandAll() {
            var svg = document.querySelector('.markmap > svg');
            if (svg && svg.mm) {
                var root = svg.mm.state.data;
                (function expand(n) {
                    n.payload = Object.assign({}, n.payload, { fold: 0 });
                    if (n.children) n.children.forEach(expand);
                })(root);
                svg.mm.setData(root); svg.mm.fit();
            }
        }
        function collapseAll() {
            var svg = document.querySelector('.markmap > svg');
            if (svg && svg.mm) {
                var root = svg.mm.state.data;
                root.children && root.children.forEach(function collapse(n) {
                    if (n.children && n.children.length) {
                        n.payload = Object.assign({}, n.payload, { fold: 1 });
                        n.children.forEach(collapse);
                    }
                });
                svg.mm.setData(root); svg.mm.fit();
            }
        }
        document.addEventListener('DOMContentLoaded', function() {
            const { Transformer, Markmap } = window.markmap;
            const transformer = new Transformer();
            const markdown = `
# Sliding Window & Two Pointers ç²¾é€šåœ°åœ– ğŸ¯

## å­¸ç¿’å°å¼•èˆ‡é€²åº¦è¿½è¹¤ âœ…

- [ ] å…¥é–€ï¼šç†è§£å…©å¤§æ ¸å¿ƒ API Kernel æ€ç¶­
- [ ] æ¨¡æ¿ç†Ÿæ‚‰ï¼šèƒ½é»˜å¯«é€šç”¨æ¨¡æ¿ï¼ˆæ»‘å‹•è¦–çª— / é›™æŒ‡æ¨™ï¼‰
- [ ] 6 å¤§ Sliding Window è®Šå½¢å…¨éƒ¨æœƒå¯«
- [ ] 6 å¤§ Two Pointers å­æ¨¡å¼å…¨éƒ¨æœƒå¯«
- [ ] ç²¾é¸é¡Œçµ„åˆ·å®Œä¸¦èƒ½å£é ­è¬›è§£æ€è·¯ï¼ˆé¢è©¦å‘ï¼‰
- [ ] èƒ½çœ‹é¡Œ â†’ 10 ç§’å…§åˆ¤æ–·æ˜¯å¦é©åˆç”¨é€™å…©ç¨®æŠ€å·§

---

## æ ¸å¿ƒ API Kernel æŠ½è±¡ ğŸ§ 

- **SubstringSlidingWindow**ï¼ˆä¸€ç¶­æ»‘å‹•è¦–çª—ï¼‰
  - å®šç¾©ï¼šåœ¨åºåˆ—ä¸Šç¶­è­·ä¸€å€‹å‹•æ…‹å€é–“ \`[left, right]\`ï¼ŒåŒæ™‚ç¶­æŒæŸå€‹ ==ä¸è®Šé‡ (invariant)==
  - ä½¿ç”¨æ™‚æ©Ÿï¼š
    - ç­”æ¡ˆæ˜¯ã€Œ**é€£çºŒå­é™£åˆ— / å­å­—ä¸²**ã€
    - ç‹€æ…‹å¯ O(1) æ›´æ–°ï¼ˆåŠ å…¥ / ç§»å‡ºå…ƒç´ ï¼‰
    - æƒ³ã€Œæœ€é•· / æœ€çŸ­ / æ˜¯å¦å­˜åœ¨ã€æŸç¨®æ»¿è¶³æ¢ä»¶çš„è¦–çª—
  - é—œéµå…ƒç´ ï¼š
    - \`state\`ï¼šé »ç‡è¡¨ã€è¨ˆæ•¸å™¨ã€ç•¶å‰å’Œç­‰
    - \`expand\`ï¼š\`right += 1\` ä¸€å®šå¾€å³èµ°
    - \`contract\`ï¼šç•¶ä¸è®Šé‡è¢«ç ´å£æ™‚ï¼Œç”¨ \`left += 1\` æ”¶ç¸®
    - \`update_answer\`ï¼šä¾ã€Œæœ€å¤§åŒ– / æœ€å°åŒ– / å­˜åœ¨æ€§ã€æ›´æ–°ç­”æ¡ˆ
- **TwoPointersTraversal**ï¼ˆé›™æŒ‡æ¨™éæ­·ï¼‰
  - å®šç¾©ï¼šå…©å€‹æŒ‡æ¨™åœ¨åºåˆ—ä¸Šæ ¹æ“šè¦å‰‡å”åŒç§»å‹•ï¼Œç¶­æŒæŸç¨®é—œä¿‚ä¸è®Š
  - ä½¿ç”¨æ™‚æ©Ÿï¼š
    - é™£åˆ—å·²æ’åº / å¯æ’åºï¼Œæˆ–çµæ§‹æœ‰ã€Œå–®èª¿ / å°ç¨±ã€æ€§è³ª
    - æƒ³è¦ O(1) ç©ºé–“ã€ç·šæ€§æ™‚é–“æƒæ
    - é¡Œç›®æåˆ°ï¼šæˆå°ã€æˆçµ„ã€å°±åœ°ä¿®æ”¹ã€åˆä½µã€è¿´åœˆåµæ¸¬
  - å­æ¨¡å¼ï¼š
    - å°å‘æŒ‡æ¨™ï¼ˆå…©ç«¯å¤¾é€¼ï¼‰
    - åŒå‘è®€å¯«æŒ‡æ¨™ï¼ˆwriter patternï¼‰
    - å¿«æ…¢æŒ‡æ¨™ï¼ˆcycle / ä¸­é»ï¼‰
    - è·è˜­åœ‹æ—— / å€é–“åˆ†å‰²
    - æœ‰åºåˆ—èˆ‰ï¼ˆ3Sum/4Sumï¼‰
    - åˆä½µå…©å€‹å·²æ’åºåºåˆ—

---

## Sliding Window ç¸½è¦½ ğŸªŸ

### æ ¸å¿ƒæ¨¡æ¿èˆ‡ç­–ç•¥

- **é€šç”¨æ¨¡æ¿ï¼ˆè®Šé•·è¦–çª—ï¼‰**

\`\`\`python
def sliding_window_template(sequence):
    state = initialize_state()
    left = 0
    answer = initial_answer()
    for right, x in enumerate(sequence):
        update_state_add(state, x)          # æ“´å¼µ
        while invariant_violated(state):    # è¦–çª—ä¸åˆæ³• â†’ æ”¶ç¸®
            update_state_remove(state, sequence[left])
            left += 1
        answer = update_answer(answer, left, right)
    return answer
\`\`\`

- **å…©å¤§ç­–ç•¥**
  - **Maximize Window**ï¼šæ‰¾ã€Œæœ€é•· / æœ€å¤§ã€åˆæ³•è¦–çª—
  - **Minimize Window**ï¼šæ‰¾ã€Œæœ€çŸ­ / æœ€å°ã€ä»ç„¶åˆæ³•çš„è¦–çª—

---

### åŸºç¤æ¨¡æ¿ï¼šæ‰€æœ‰å­—å…ƒå”¯ä¸€ï¼ˆLeetCode 3ï¼‰ğŸ”¥

- å•é¡Œï¼šæœ€é•·ä¸å«é‡è¤‡å­—å…ƒå­å­—ä¸²  
  [LeetCode 3 - Longest Substring Without Repeating Characters](https://github.com/lufftw/neetcode/blob/main/solutions/0003_longest_substring_without_repeating_characters.py)
- Patternï¼š\`sliding_window_unique\`
- Invariantï¼šè¦–çª—å…§æ‰€æœ‰å­—å…ƒçš†å”¯ä¸€
- ç‹€æ…‹ï¼š
  - \`last_seen_index[char]\`ï¼šå­—å…ƒæœ€å¾Œå‡ºç¾ä½ç½®
- æŠ€å·§äº®é»ï¼š
  - **è·³èºå¼æ”¶ç¸®**ï¼š\`left = max(left, last_seen_index[char] + 1)\`
  - æ¯å€‹å­—å…ƒæœ€å¤šè¢«è¨ªå•å…©æ¬¡ â†’ \$O(n)\$

---

### è®Šå½¢ä¸€ï¼šè‡³å¤š K ç¨®å­—å…ƒï¼ˆLeetCode 340ï¼‰ğŸ“

- å•é¡Œï¼šæœ€é•·å­å­—ä¸²ï¼Œæœ€å¤š K ç¨®ä¸åŒå­—å…ƒ  
  [LeetCode 340 - Longest Substring with At Most K Distinct Characters](https://github.com/lufftw/neetcode/blob/main/solutions/0340_longest_substring_with_at_most_k_distinct.py)
- Patternï¼š\`sliding_window_at_most_k_distinct\`
- Invariantï¼š\`len(freq_map) <= K\`
- ç‹€æ…‹ï¼š
  - \`char_frequency[c]\`ï¼šè¦–çª—å…§æ¯å€‹å­—å…ƒé »ç‡
- ç‰¹è‰²ï¼š
  - **åªèƒ½ while é€æ­¥æ”¶ç¸®**ï¼Œä¸èƒ½åƒå”¯ä¸€å­—å…ƒé‚£æ¨£è·³èº
  - è¦–çª—æ˜¯ã€Œ**æœ€å¤§åŒ–**ã€å‹ï¼šåˆæ³•æ™‚æ›´æ–°ç­”æ¡ˆ

---

### è®Šå½¢äºŒï¼šæœ€å°è¦†è“‹å­å­—ä¸²ï¼ˆLeetCode 76ï¼‰ğŸ¯

- å•é¡Œï¼šæœ€å°çš„ \`s\` å­å­—ä¸²ï¼ŒåŒ…å« \`t\` æ‰€æœ‰å­—å…ƒèˆ‡é »ç‡  
  [LeetCode 76 - Minimum Window Substring](https://github.com/lufftw/neetcode/blob/main/solutions/0076_minimum_window_substring.py)
- Patternï¼š\`sliding_window_freq_cover\`
- Invariantï¼šè¦–çª—ã€Œå·²æ»¿è¶³ã€æ‰€æœ‰éœ€æ±‚å­—å…ƒé »ç‡
- ç‹€æ…‹ï¼š
  - \`need_frequency\`ï¼š\`t\` ä¸­æ¯å­—å…ƒéœ€è¦çš„æ¬¡æ•¸
  - \`have_frequency\`ï¼šç›®å‰è¦–çª—å·²æ“æœ‰çš„æ¬¡æ•¸
  - \`chars_satisfied\` vs \`chars_required\`
- ç‰¹è‰²ï¼š
  - **å…ˆæ“´å¼µåˆ°åˆæ³•ï¼Œå†åœ¨åˆæ³•æœŸé–“ç˜‹ç‹‚æ”¶ç¸®**ï¼ˆæ‰¾æœ€çŸ­ï¼‰
  - å…¸å‹ã€Œ**æœ€å°åŒ–è¦–çª—**ã€æ¨¡æ¿ä»£è¡¨é¡Œ

---

### è®Šå½¢ä¸‰ï¼šå­—ä¸²æ˜¯å¦åŒ…å«æŸæ’åˆ—ï¼ˆLeetCode 567ï¼‰ğŸ”

- å•é¡Œï¼š\`s2\` æ˜¯å¦åŒ…å« \`s1\` çš„ä»»æ„æ’åˆ—  
  [LeetCode 567 - Permutation in String](https://github.com/lufftw/neetcode/blob/main/solutions/0567_permutation_in_string.py)
- Patternï¼š\`sliding_window_freq_cover\` + **å›ºå®šè¦–çª—é•·åº¦**
- Invariantï¼šè¦–çª—é•·åº¦ = \`len(s1)\` ä¸”é »ç‡å®Œå…¨ç›¸åŒ
- ç‹€æ…‹ï¼š
  - \`pattern_frequency\` / \`window_frequency\`
  - \`chars_matched\` / \`chars_to_match\`
- ç‰¹è‰²ï¼š
  - **å›ºå®šå¤§å°è¦–çª—** æ¨¡æ¿ï¼šå³æŒ‡é‡æ¯èµ°ä¸€æ­¥ï¼Œå°±å¾å·¦é‚Šä¸Ÿä¸€å€‹å…ƒç´ å‡ºå»
  - å›å‚³å¸ƒæ—ï¼šæ˜¯å¦å­˜åœ¨åˆæ³•è¦–çª—

---

### è®Šå½¢å››ï¼šæ‰¾å‡ºæ‰€æœ‰ç•°ä½è©ä½ç½®ï¼ˆLeetCode 438ï¼‰ğŸ“

- å•é¡Œï¼šæ‰¾å‡º \`s\` ä¸­æ‰€æœ‰ \`p\` çš„ç•°ä½è©èµ·å§‹ index  
  [LeetCode 438 - Find All Anagrams in a String](https://github.com/lufftw/neetcode/blob/main/solutions/0438_find_all_anagrams_in_a_string.py)
- Patternï¼š\`sliding_window_freq_cover\` + å›ºå®šè¦–çª—
- èˆ‡ LeetCode 567 å·®ç•°ï¼š
  - ä¸åªå•ã€Œæ˜¯å¦å­˜åœ¨ã€ï¼Œè€Œæ˜¯ã€Œ**å›å‚³å…¨éƒ¨èµ·é»**ã€
  - æ¯ç•¶ \`chars_matched == chars_to_match\` æ™‚ï¼ŒæŠŠèµ·é»åŠ å…¥ç­”æ¡ˆ

---

### è®Šå½¢äº”ï¼šæœ€å°é•·åº¦å­é™£åˆ—å’Œï¼ˆLeetCode 209ï¼‰â•ğŸ“‰

- å•é¡Œï¼šæœ€çŸ­å­é™£åˆ—é•·åº¦ï¼Œä½¿å¾—ç¸½å’Œ â‰¥ target  
  [LeetCode 209 - Minimum Size Subarray Sum](https://github.com/lufftw/neetcode/blob/main/solutions/0209_minimum_size_subarray_sum.py)
- Patternï¼š\`sliding_window_cost_bounded\`
- Invariantï¼š\`window_sum >= target\`
- ç‹€æ…‹ï¼š
  - å–®ä¸€æ•´æ•¸ \`window_sum\`
- ç‰¹è‰²ï¼š
  - æ•¸å€¼å‹ç‹€æ…‹ï¼Œå¯¦ä½œæœ€ç°¡æ½”
  - ç¶“å…¸ã€Œ**æ“´å¼µåˆ°åˆæ³• â†’ while åˆæ³•å°±æ”¶ç¸®**ã€æœ€å°åŒ–æ¨¡æ¿

---

### Sliding Window æ±ºç­–è¡¨ & ä½•æ™‚ä½¿ç”¨ ğŸ“Œ

<!-- markmap: fold -->

- **é¡Œç›®é—œéµå­—åˆ¤æ–·**
  - ã€Œæœ€é•·/æœ€çŸ­ å­å­—ä¸² / å­é™£åˆ—ã€
  - ã€Œé€£çºŒã€ã€Œsubarrayã€ã€Œsubstringã€
  - ã€Œå’Œ / é »ç‡ / ç¨®é¡æ•¸ å—é™åˆ¶ã€
- **ä½¿ç”¨ vs ä¸ä½¿ç”¨**
  - âœ… ä½¿ç”¨ Sliding Windowï¼š
    - é€£çºŒå€é–“
    - åŠ å…¥ / ç§»å‡ºå…ƒç´ èƒ½ O(1) æ›´æ–°ç‹€æ…‹
  - âŒ ä¸é©åˆï¼š
    - éé€£çºŒå­åºåˆ—ï¼ˆè€ƒæ…® DPï¼‰
    - ç‹€æ…‹éœ€è¦å…¨åŸŸæ’åº / è¤‡é›œçµæ§‹ï¼ˆè€ƒæ…® prefix sum + binary search ç­‰ï¼‰
- **å…­å€‹ä»£è¡¨é¡Œå°ç…§**

| é¡Œç›® | Invariant | è¦–çª—å¤§å° | ç›®æ¨™ |
|------|-----------|----------|------|
| [LeetCode 3](https://github.com/lufftw/neetcode/blob/main/solutions/0003_longest_substring_without_repeating_characters.py) | æ‰€æœ‰å­—å…ƒå”¯ä¸€ | è®Šé•· | æœ€å¤§é•·åº¦ |
| [LeetCode 340](https://github.com/lufftw/neetcode/blob/main/solutions/0340_longest_substring_with_at_most_k_distinct.py) | ç¨®é¡ â‰¤ K | è®Šé•· | æœ€å¤§é•·åº¦ |
| [LeetCode 76](https://github.com/lufftw/neetcode/blob/main/solutions/0076_minimum_window_substring.py) | è¦†è“‹ \`t\` éœ€æ±‚ | è®Šé•· | æœ€å°é•·åº¦ |
| [LeetCode 567](https://github.com/lufftw/neetcode/blob/main/solutions/0567_permutation_in_string.py) | é »ç‡å®Œå…¨ç›¸åŒ | å›ºå®š | æ˜¯å¦å­˜åœ¨ |
| [LeetCode 438](https://github.com/lufftw/neetcode/blob/main/solutions/0438_find_all_anagrams_in_a_string.py) | é »ç‡å®Œå…¨ç›¸åŒ | å›ºå®š | åˆ—å‡ºæ‰€æœ‰ |
| [LeetCode 209](https://github.com/lufftw/neetcode/blob/main/solutions/0209_minimum_size_subarray_sum.py) | sum â‰¥ target | è®Šé•· | æœ€å°é•·åº¦ |

---

## Two Pointers ç¸½è¦½ ğŸ§­

### é€šç”¨æ€ç¶­

\`\`\`python
def two_pointers_template(seq):
    left, right = initialize_pointers(seq)
    answer = initial_answer()
    while not termination_condition(left, right):
        value = evaluate(seq, left, right)
        answer = update_answer(answer, value)
        # æ ¹æ“šå–®èª¿æ€§ / ä¸è®Šé‡æ±ºå®šç§»å‹•å“ªä¸€å€‹æŒ‡æ¨™
        if should_move_left(value):
            left += 1
        else:
            right -= 1
    return answer
\`\`\`

- é—œéµï¼š**åˆ©ç”¨æ’åº / å–®èª¿æ€§ / å°ç¨±æ€§**ï¼Œæ¯æ¬¡ç§»å‹•éƒ½**æ’é™¤ä¸€æ•´æ‰¹ä¸å¯èƒ½è§£**

---

### å­æ¨¡å¼ä¸€ï¼šå°å‘æŒ‡æ¨™ï¼ˆTwo-End / Oppositeï¼‰â†”ï¸

- Patternï¼š\`two_pointer_opposite\`
- å…¸å‹å ´æ™¯ï¼š
  - å·²æ’åºé™£åˆ—æ‰¾ pair / sum
  - å°ç¨±æª¢æŸ¥ï¼ˆå›æ–‡ï¼‰
  - å…©ç«¯å¤¾é€¼æœ€å¤§åŒ–æŸå‡½æ•¸ï¼ˆç››æœ€å¤šæ°´ï¼‰
- ä¸è®Šé‡ï¼š
  - è§£ç©ºé–“åœ¨ \`[left, right]\` ä¹‹é–“
- é€šç”¨æ¨¡æ¿ï¼ˆpair æœå°‹ï¼‰ï¼š

\`\`\`python
left, right = 0, n - 1
while left < right:
    cur = arr[left] + arr[right]
    if cur == target: ...
    elif cur < target: left += 1
    else: right -= 1
\`\`\`

- æœ¬åœ–ä¸­æœ‰è³‡æ–™çš„ä»£è¡¨é¡Œï¼š
  - [LeetCode 1 - Two Sum](https://github.com/lufftw/neetcode/blob/main/solutions/0001_two_sum.py)
    - é›–ç„¶å¸¸è¦‹è§£æ³•æ˜¯ HashMapï¼Œä½†æœ¬çŸ¥è­˜åœ–æŠŠå®ƒä¹Ÿæ¨™åˆ° \`two_pointer_opposite\`
    - é¢è©¦æ™‚å¯åŒæ™‚æï¼š\`O(n)\` HashMap èˆ‡ \`O(n log n)\` sort + two pointers

---

### å­æ¨¡å¼äºŒï¼šåŒå‘è®€å¯«æŒ‡æ¨™ï¼ˆWriter Patternï¼‰âœï¸

- Patternï¼š\`two_pointer_same_direction\` / \`two_pointer_writer_*\`
- å ´æ™¯ï¼š
  - å°±åœ°åˆªé™¤å…ƒç´  / å£“ç¸®é™£åˆ—
  - ç§»é™¤é‡è¤‡ã€ç§»é™¤ç‰¹å®šå€¼ã€æ¬ç§» 0
- ä¸è®Šé‡ï¼š
  - \`arr[0:write]\` æ°¸é æ˜¯ã€Œå·²è™•ç†ä¸”åˆæ³•å€é–“ã€
- æ¨¡æ¿ï¼š

\`\`\`python
write = 0
for read in range(len(arr)):
    if should_keep(arr[read]):
        arr[write] = arr[read]
        write += 1
return write
\`\`\`

- æœ¬è³‡æ–™é›†ä¸­å°šæœªåˆ—å‡ºå…·é«”é¡Œè™Ÿï¼Œä½†å¯å°æ‡‰ï¼š
  - Remove Duplicates, Remove Element, Move Zeroes ç­‰ç¶“å…¸é¡Œ

---

### å­æ¨¡å¼ä¸‰ï¼šå¿«æ…¢æŒ‡æ¨™ï¼ˆFastâ€“Slowï¼‰ğŸ¢ğŸ‡

- Patternï¼š\`fast_slow_*\`
- å ´æ™¯ï¼š
  - é€£çµä¸²åˆ—æ˜¯å¦æœ‰ç’° / ç’°èµ·é»
  - æ‰¾ä¸­é»
  - éš±å¼åºåˆ—æ˜¯å¦å¾ªç’°ï¼ˆHappy Numberï¼‰
- ä¸è®Šé‡ï¼š
  - è‹¥æœ‰ç’°ï¼Œå¿«æŒ‡æ¨™æœ€çµ‚æœƒè¿½ä¸Šæ…¢æŒ‡æ¨™
- å¸¸è¦‹æµç¨‹ï¼š
  - Phase 1ï¼šåˆ¤æ–·æ˜¯å¦æœ‰ç’°
  - Phase 2ï¼šæ‰¾åˆ°ç’°èµ·é»

---

### å­æ¨¡å¼å››ï¼šPartition / è·è˜­åœ‹æ—— ğŸ‡³ğŸ‡±

- Patternï¼š\`dutch_flag_partition\`, \`two_way_partition\`, \`quickselect_partition\`
- å ´æ™¯ï¼š
  - ä¾æ¢ä»¶æŠŠé™£åˆ—åˆ†å€ï¼š< pivot, == pivot, > pivot
  - Quickselect æ‰¾ç¬¬ K å¤§ / å°
- æ¨¡æ¿ï¼ˆè·è˜­åœ‹æ——ï¼‰ï¼š

\`\`\`python
low, mid, high = 0, 0, n - 1
while mid <= high:
    if arr[mid] < pivot: swap(low, mid); low += 1; mid += 1
    elif arr[mid] > pivot: swap(mid, high); high -= 1
    else: mid += 1
\`\`\`

---

### å­æ¨¡å¼äº”ï¼šæœ‰åºåˆ—èˆ‰ / k-Sumï¼ˆå« 3Sum, 4Sumï¼‰â•â•â•

- Patternï¼š\`two_pointer_three_sum\`, \`two_pointer_k_sum\`
- æ€è·¯ï¼š
  - å…ˆæ’åº
  - å¤–å±¤å›ºå®šä¸€å€‹ / å¤šå€‹ index
  - å…§å±¤ç”¨å°å‘æŒ‡æ¨™æšèˆ‰å‰©ä¸‹å…©å€‹
  - å°å¿ƒå»é‡ï¼ˆè·³éç›¸åŒæ•¸å€¼ï¼‰
- èˆ‡ \`two_sum_variants\` / \`multi_sum_enumeration\` å®¶æ—é—œè¯

---

### å­æ¨¡å¼å…­ï¼šåˆä½µæœ‰åºåºåˆ—ï¼ˆMerge Patternï¼‰ğŸ”€

- API Kernelï¼š\`MergeSortedSequences\`, \`KWayMerge\`
- Patternï¼š\`merge_two_sorted\`, \`merge_two_sorted_lists\`, \`merge_k_sorted_*\`
- ä»£è¡¨é¡Œï¼š
  - [LeetCode 4 - Median of Two Sorted Arrays](https://github.com/lufftw/neetcode/blob/main/solutions/0004_median_of_two_sorted_arrays.py)
    - ä½¿ç”¨ \`merge_two_sorted\` æ€æƒ³ + \`binary_search_on_answer\`
  - [LeetCode 23 - Merge k Sorted Lists](https://github.com/lufftw/neetcode/blob/main/solutions/0023_merge_k_sorted_lists.py)
    - \`KWayMerge\`ï¼šå°æ ¹å † / åˆ†æ²»å…©ç¨® Pattern
- åˆä½µå…©å€‹åºåˆ—æ¨¡æ¿ï¼š

\`\`\`python
i = j = 0
res = []
while i < len(a) and j < len(b):
    if a[i] <= b[j]:
        res.append(a[i]); i += 1
    else:
        res.append(b[j]); j += 1
res.extend(a[i:]); res.extend(b[j:])
\`\`\`

---

## BFS Grid Wavefrontï¼šé¡å¤– API Kernel ğŸŒŠ

- API Kernelï¼š\`GridBFSMultiSource\`
- Patternï¼š\`grid_bfs_propagation\`
- ä»£è¡¨é¡Œï¼š  
  [LeetCode 994 - Rotting Oranges](https://github.com/lufftw/neetcode/blob/main/solutions/0994_rotting_oranges.py)
- æ€è·¯ï¼š
  - å¤šæº BFSï¼šä¸€é–‹å§‹æŠŠæ‰€æœ‰çˆ›æ©˜å­åº§æ¨™ä¸Ÿé€² queue
  - æ¯ä¸€å±¤ä»£è¡¨ã€Œæ™‚é–“ +1 åˆ†é˜ã€çš„æ³¢å‰æ“´æ•£
  - èˆ‡ \`graph_wavefront\`ã€\`matrix_traversal\` å®¶æ—é€£çµ
- æ¨¡æ¿è¦é»ï¼š
  - \`queue\` åˆå§‹è£æ‰€æœ‰ source
  - æ¯è¼ªè™•ç† \`len(queue)\` å€‹ç¯€é»ï¼ˆæŒ‰å±¤ï¼‰
  - è¨˜éŒ„æœ€çµ‚æ™‚é–“ & æ˜¯å¦é‚„æœ‰æœªè¢«æ³¢åŠçš„ç¯€é»

---

## å®¶æ— (Families) èˆ‡ Pattern å°æ‡‰åœ– ğŸ§¬

- **substring_window**
  - å°æ‡‰ API Kernelï¼š\`SubstringSlidingWindow\`
  - ä»£è¡¨é¡Œï¼š
    - [LeetCode 3](https://github.com/lufftw/neetcode/blob/main/solutions/0003_longest_substring_without_repeating_characters.py)
    - [LeetCode 76](https://github.com/lufftw/neetcode/blob/main/solutions/0076_minimum_window_substring.py)
    - [LeetCode 209](https://github.com/lufftw/neetcode/blob/main/solutions/0209_minimum_size_subarray_sum.py)
    - [LeetCode 340](https://github.com/lufftw/neetcode/blob/main/solutions/0340_longest_substring_with_at_most_k_distinct.py)
    - [LeetCode 438](https://github.com/lufftw/neetcode/blob/main/solutions/0438_find_all_anagrams_in_a_string.py)
    - [LeetCode 567](https://github.com/lufftw/neetcode/blob/main/solutions/0567_permutation_in_string.py)
- **two_sum_variants / multi_sum_enumeration**
  - APIï¼š\`TwoPointersTraversal\`
  - ä»£è¡¨é¡Œï¼š
    - [LeetCode 1 - Two Sum](https://github.com/lufftw/neetcode/blob/main/solutions/0001_two_sum.py)ï¼ˆHashMap + two pointers æ€ç¶­ï¼‰
- **merge_sorted / sequence_merge**
  - APIï¼š\`MergeSortedSequences\`, \`KWayMerge\`
  - ä»£è¡¨é¡Œï¼š
    - [LeetCode 4](https://github.com/lufftw/neetcode/blob/main/solutions/0004_median_of_two_sorted_arrays.py)
    - [LeetCode 23](https://github.com/lufftw/neetcode/blob/main/solutions/0023_merge_k_sorted_lists.py)
- **backtracking_combinatorial**
  - APIï¼š\`BacktrackingExploration\`
  - ä»£è¡¨é¡Œï¼š
    - [LeetCode 51 - N-Queens](https://github.com/lufftw/neetcode/blob/main/solutions/0051_n_queens.py)
- **linked_list_manipulation**
  - APIï¼š\`LinkedListInPlaceReversal\`
  - ä»£è¡¨é¡Œï¼š
    - [LeetCode 2 - Add Two Numbers](https://github.com/lufftw/neetcode/blob/main/solutions/0002_add_two_numbers.py)
    - [LeetCode 23](https://github.com/lufftw/neetcode/blob/main/solutions/0023_merge_k_sorted_lists.py)
    - [LeetCode 25 - Reverse Nodes in k-Group](https://github.com/lufftw/neetcode/blob/main/solutions/0025_reverse_nodes_in_k_group.py)
- **graph_wavefront / matrix_traversal**
  - APIï¼š\`GridBFSMultiSource\`
  - ä»£è¡¨é¡Œï¼š
    - [LeetCode 994](https://github.com/lufftw/neetcode/blob/main/solutions/0994_rotting_oranges.py)

---

## Roadmap å°æ‡‰ï¼šå¦‚ä½•å®‰æ’ç·´ç¿’é †åº ğŸ—ºï¸

- **Sliding Window Mastery (\`sliding_window_path\`)**
  - ä¾å»ºè­°é †åºï¼š
    1. [LeetCode 3](https://github.com/lufftw/neetcode/blob/main/solutions/0003_longest_substring_without_repeating_characters.py)ï¼ˆå”¯ä¸€å­—å…ƒï¼Œbase templateï¼‰
    2. [LeetCode 340](https://github.com/lufftw/neetcode/blob/main/solutions/0340_longest_substring_with_at_most_k_distinct.py)ï¼ˆè‡³å¤š K ç¨®ï¼‰
    3. [LeetCode 209](https://github.com/lufftw/neetcode/blob/main/solutions/0209_minimum_size_subarray_sum.py)ï¼ˆæ•¸å€¼å’Œç´„æŸï¼‰
    4. [LeetCode 76](https://github.com/lufftw/neetcode/blob/main/solutions/0076_minimum_window_substring.py)ï¼ˆæœ€å°è¦†è“‹ï¼‰
    5. [LeetCode 567](https://github.com/lufftw/neetcode/blob/main/solutions/0567_permutation_in_string.py)ï¼ˆå›ºå®šè¦–çª— + å­˜åœ¨æ€§ï¼‰
    6. [LeetCode 438](https://github.com/lufftw/neetcode/blob/main/solutions/0438_find_all_anagrams_in_a_string.py)ï¼ˆå›ºå®šè¦–çª— + å…¨éƒ¨ä½ç½®ï¼‰
- **Two Pointers Mastery (\`two_pointers_path\`)**
  - å»ºè­°é †åºï¼ˆæœ¬åœ–åªåˆ—å‡ºæœ‰è³‡æ–™è€…ï¼‰ï¼š
    1. [LeetCode 1](https://github.com/lufftw/neetcode/blob/main/solutions/0001_two_sum.py)ï¼ˆtwo sum è®Šé«”æ€ç¶­ï¼‰
    2. [LeetCode 4](https://github.com/lufftw/neetcode/blob/main/solutions/0004_median_of_two_sorted_arrays.py)ï¼ˆåˆä½µ + äºŒåˆ†ï¼‰
    3. [LeetCode 23](https://github.com/lufftw/neetcode/blob/main/solutions/0023_merge_k_sorted_lists.py)ï¼ˆK è·¯åˆä½µï¼‰
- **Graph BFS Path (\`graph_bfs_path\`)**
  - 1. [LeetCode 994](https://github.com/lufftw/neetcode/blob/main/solutions/0994_rotting_oranges.py)ï¼ˆå¤šæº BFS ç¶“å…¸ï¼‰
- **NeetCode 150 / Blind 75 / Grind 75 / Top 100**
  - å¹¾ä¹æ‰€æœ‰ä¸Šè¿°é¡Œç›®éƒ½åœ¨é€™äº›è·¯ç·šä¸­ï¼Œå¤šåˆ·ä¸€é¡Œç­‰æ–¼åŒæ™‚æ‰“å¤šå¼µå¡

---

## é¢è©¦å¯¦æˆ°å»ºè­° ğŸ’¼

- çœ‹åˆ°é¡Œç›®æ™‚ï¼Œå…ˆå•è‡ªå·±ï¼š
  - ã€Œç­”æ¡ˆæ˜¯ä¸æ˜¯**é€£çºŒå­é™£åˆ— / å­å­—ä¸²**ï¼Ÿã€â†’ æƒ³ Sliding Window
  - ã€Œè³‡æ–™æ˜¯ä¸æ˜¯å·²æ’åº / å¯ä»¥æ’åºï¼Ÿæœ‰æ²’æœ‰**å°ç¨± / å–®èª¿**ï¼Ÿã€â†’ æƒ³ Two Pointers
- å£é ­è¡¨é”çµæ§‹ï¼ˆå»ºè­°æ¨¡æ¿ï¼‰ï¼š
  1. å…ˆèªªï¼šé€™é¡Œå±¬æ–¼å“ªå€‹ **API Kernel**ï¼ˆæ»‘å‹•è¦–çª— / é›™æŒ‡æ¨™ / K-way merge / BFS wavefrontï¼‰
  2. èªªå‡ºä½ è¦ç¶­è­·çš„ **ä¸è®Šé‡ (invariant)** æ˜¯ä»€éº¼
  3. è§£é‡‹ **expand / contract / æŒ‡æ¨™ç§»å‹•è¦å‰‡**ï¼Œä»¥åŠç‚ºä½•æ­£ç¢º
  4. çµ¦å‡ºæ™‚é–“èˆ‡ç©ºé–“è¤‡é›œåº¦ï¼Œé †å¸¶æåˆ°å¯æ›¿ä»£è§£æ³•ï¼ˆä¾‹å¦‚ HashMap vs sort + two pointersï¼‰
- æ¨è–¦å…ˆåˆ·å®Œï¼š
  - Sliding Windowï¼š3, 340, 209, 76, 567, 438
  - Two Pointers / Mergeï¼š1, 4, 23
  - BFSï¼š994

---`;
            const { root } = transformer.transform(markdown);
            const svg = d3.select('.markmap').append('svg');
            const mm = Markmap.create(svg.node(), { color: (node) => node.payload?.color || '#f59e0b' }, root);
            svg.node().mm = mm;
            if (window.markmap && window.markmap.Toolbar) {
                const toolbar = new window.markmap.Toolbar();
                toolbar.attach(mm);
                setTimeout(function() {
                    document.querySelectorAll('.mm-toolbar').forEach(function(toolbar) {
                        toolbar.querySelectorAll('.mm-toolbar-item').forEach(function(item) {
                            if ((item.title || '').toLowerCase().includes('dark')) item.remove();
                        });
                        var brand = toolbar.querySelector('.mm-toolbar-brand');
                        if (brand) {
                            brand.innerHTML = 'ğŸŸ¡ NeetCode';
                            brand.href = '#'; brand.onclick = function(e) { e.preventDefault(); };
                            brand.style.fontSize = '12px'; brand.style.color = '#666';
                        }
                    });
                }, 200);
            }
        });
    </script>
</head>
<body>
    <div id="topbar">
        <button onclick="fitView()">Fit View</button>
        <button onclick="expandAll()">Expand All</button>
        <button onclick="collapseAll()">Collapse All</button>
    </div>
    <div class="markmap"></div>
</body>
</html>