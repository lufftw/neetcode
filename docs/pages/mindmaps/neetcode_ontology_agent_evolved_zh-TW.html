<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="description" content="ç”¨ä¸€å¼µ LeetCode çŸ¥è­˜åœ–è­œå¿ƒæ™ºåœ–ï¼Œå¾æ ¸å¿ƒæ¨¡å¼åˆ°å¯é‡ç”¨çš„ Kernelï¼ˆAPIï¼‰å†å°æ‡‰é¡Œç›®ï¼Œæ•™ä½ å¿«é€Ÿåˆ¤æ–·è©²ç”¨æ»‘å‹•è¦–çª—ã€é›™æŒ‡æ¨™ã€äºŒåˆ†ã€BFSã€DP ç­‰è§£æ³•ï¼Œä¸¦é™„æ±ºç­– Routerã€é€²åº¦è¿½è¹¤èˆ‡å¸¸è¦‹é™·é˜±æª¢æŸ¥æ¸…å–®ï¼Œå¹«ä½ ç©©å®šæé€Ÿè§£é¡Œã€‚">
    
    <title>NeetCode Agent Evolved Mindmap (ç¹é«”ä¸­æ–‡) - NeetCode Mind Maps</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; }
        .markmap { width: 100%; height: 100%; }
        .markmap > svg { width: 100%; height: 100%; }
        #topbar {
            position: fixed; top: 0; left: 0; right: 0; z-index: 100;
            background: #fff; border-bottom: 1px solid #e5e7eb;
            padding: 8px 16px; display: flex; gap: 8px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            font-size: 13px;
        }
        #topbar button {
            padding: 4px 12px; border: 1px solid #d1d5db;
            border-radius: 4px; background: #fff; cursor: pointer;
        }
        #topbar button:hover { background: #f3f4f6; }
        .markmap { margin-top: 40px; height: calc(100% - 40px); }
    </style>
    <script>
        (function () {
            // Load script only once, return Promise that resolves when loaded
            function loadScriptOnce(src) {
                return new Promise((resolve, reject) => {
                    // Check if script already exists
                    const existing = document.querySelector(`script[src="${src}"]`);
                    if (existing) {
                        // If script exists and is loaded, resolve immediately
                        if (existing.getAttribute('data-loaded') === 'true') {
                            resolve();
                            return;
                        }
                        // If script exists but not loaded, wait for it
                        existing.addEventListener('load', resolve, { once: true });
                        existing.addEventListener('error', reject, { once: true });
                        return;
                    }

                    const s = document.createElement("script");
                    s.src = src;
                    s.defer = true;
                    s.onload = function() {
                        s.setAttribute('data-loaded', 'true');
                        resolve();
                    };
                    s.onerror = () => reject(new Error("Failed to load: " + src));
                    document.head.appendChild(s);
                });
            }

            // Ensure all required markmap libraries are loaded
            async function ensureMarkmapLoaded() {
                // Ensure window.markmap exists
                if (!window.markmap) {
                    window.markmap = {};
                }

                // Load d3 first (required by markmap-view)
                if (!window.d3) {
                    await loadScriptOnce("https://cdn.jsdelivr.net/npm/d3@7");
                }
                // Load markmap-lib (provides Transformer)
                if (!window.markmap.Transformer) {
                    await loadScriptOnce("https://cdn.jsdelivr.net/npm/markmap-lib");
                }
                // Load markmap-view (provides Markmap)
                if (!window.markmap.Markmap) {
                    await loadScriptOnce("https://cdn.jsdelivr.net/npm/markmap-view");
                }
                // Load markmap-toolbar (provides Toolbar)
                if (!window.markmap.Toolbar) {
                    await loadScriptOnce("https://cdn.jsdelivr.net/npm/markmap-toolbar");
                }
            }

            // Initialize markmap visualization
            async function initMindmap() {
                const container = document.querySelector(".markmap");
                if (!container) return;

                try {
                    // Ensure libraries are loaded before initialization
                    await ensureMarkmapLoaded();

                    const mm = window.markmap;
                    if (!mm?.Transformer || !mm?.Markmap) {
                        console.warn("Markmap libraries not available");
                        return;
                    }

                    // Prevent duplicate rendering by removing existing SVG
                    container.querySelector("svg")?.remove();

                    // Initialize markmap
                    const { Transformer, Markmap } = mm;
                    const transformer = new Transformer();
                    const markdown = `---
title: LeetCode çŸ¥è­˜åœ–è­œå¿ƒæ™ºåœ–ï¼ˆ45 é¡Œï¼‰â€” Kernels â†’ Patterns â†’ Problems
markmap:
  colorFreezeLevel: 2
  maxWidth: 300
---

# ğŸ¯ LeetCode ä¸»åœ°åœ–ï¼šKernels â†’ Patterns â†’ Problems
- **å¦‚ä½•ä½¿ç”¨**
  - å¾ä¸€å€‹ **API Kernel**ï¼ˆå¯é‡ç”¨çš„ã€Œå¼•æ“ã€ï¼‰é–‹å§‹ï¼Œå­¸æœƒå®ƒçš„ **ä¸è®Šé‡**ï¼Œæ¥è‘—åˆ·å°æ‡‰çš„é¡Œç›®ã€‚
  - è¿½è¹¤é€²åº¦ï¼šæ¯å€‹å­æ¨£å¼å…ˆåš *1â€“2 é¡Œ*ï¼Œå†è·¨ kernel æ··åˆç·´ç¿’ã€‚
  - **è©å½™è¡¨**
    - **Kernel** = å¯é‡ç”¨çš„å¯¦ä½œæ¨¡æ¿
    - **Pattern** = å°‡ kernel ä¾é™åˆ¶æ¢ä»¶ï¼ä¸è®Šé‡åšç‰¹åŒ–
    - **Problem** = æŠŠè¼¸å…¥ï¼è¼¸å‡ºç¶å®šåˆ°æŸå€‹ pattern çš„ç·´ç¿’å¯¦ä¾‹
  - **å¿«é€Ÿè·¯ç”±ï¼ˆæ±ºç­–æŒ‡å—ï¼‰**
    - éœ€è¦åœ¨é™åˆ¶æ¢ä»¶ä¸‹æ‰¾ **é€£çºŒå­é™£åˆ—ï¼å­å­—ä¸²** çš„æœ€ä½³è§£ï¼Ÿâ†’ \`SubstringSlidingWindow\`ï¼ˆå›ºå®šå¤§å° vs å¯è®Šå¤§å°ï¼›è¨ˆæ•¸ vs ç¸½å’Œï¼‰
    - éœ€è¦ **å…©ç«¯æƒæï¼æ’åºå¾Œæƒæï¼åŸåœ°å£“ç¸®**ï¼Ÿâ†’ **å®¶æ—ï¼šé›™æŒ‡æ¨™æŠ€å·§** â†’ \`TwoPointersTraversal\`
    - åœ¨éˆçµçµæ§‹æˆ–å‡½å¼åœ–ä¸Šéœ€è¦ **æ‰¾ç’°ï¼æ‰¾ä¸­é»**ï¼Ÿâ†’ **å®¶æ—ï¼šé›™æŒ‡æ¨™æŠ€å·§** â†’ \`FastSlowPointers\`
    - éœ€è¦ä¾æ¢ä»¶ **é‡æ’** æˆ–æ‰¾ **ç¬¬ K å¤§/å°**ï¼Ÿâ†’ **å®¶æ—ï¼šé›™æŒ‡æ¨™æŠ€å·§** â†’ \`TwoPointerPartition\`ï¼ˆæˆ–ä¸²æµç”¨ \`HeapTopK\`ï¼‰
    - éœ€è¦ **åˆä½µå·²æ’åºåºåˆ—**ï¼Ÿâ†’ \`MergeSortedSequences\` / \`KWayMerge\`
    - éœ€è¦ **å–®èª¿åˆ¤å®šæ¢ä»¶**ï¼Ÿâ†’ \`BinarySearchBoundary\`ï¼ˆç´¢å¼•é‚Šç•Œ vs ç­”æ¡ˆç©ºé–“ï¼‰
    - åœ¨ç„¡æ¬Šé‡åœ–ï¼æ ¼ç‹€åœ–ä¸Šéœ€è¦ **æœ€çŸ­æ­¥æ•¸ï¼æœ€çŸ­æ™‚é–“**ï¼Ÿâ†’ \`GridBFSMultiSource\`
- **é€²åº¦è¿½è¹¤**
  - [ ] é›œæ¹Šè¡¨ï¼ˆè£œæ•¸æŸ¥æ‰¾ï¼‰
  - [ ] å®¶æ—ï¼šé›™æŒ‡æ¨™æŠ€å·§ï¼ˆèµ°è¨ª + å¿«æ…¢ + åˆ†å‰²ï¼‰
  - [ ] æ»‘å‹•è¦–çª—ï¼ˆSubstringSlidingWindowï¼‰
  - [ ] åˆä½µï¼ˆé›™å‘ + K å‘ï¼‰
  - [ ] äºŒåˆ†æœå°‹ï¼ˆç´¢å¼•é‚Šç•Œï¼ç­”æ¡ˆç©ºé–“ï¼‰
  - [ ] å †ç© Top K / ç¬¬ K å¤§/å°
  - [ ] å–®èª¿å †ç–Š
  - [ ] æ¨¹èµ°è¨ªï¼ˆDFS/BFSï¼‰
  - [ ] å‹•æ…‹è¦åŠƒï¼ˆ1D/2Dï¼‰
  - [ ] æ ¼ç‹€åœ–å¤šä¾†æº BFS

<!-- markmap: fold -->
- **æ¨£å¼ç´¢å¼•ï¼ˆåˆ†çµ„ï¼‰**
  - **é›œæ¹Šè¡¨**
    - \`hash_map_complement\` â†’ HashMapLookup
  - **æ»‘å‹•è¦–çª—**
    - \`sliding_window_unique\` â†’ SubstringSlidingWindow
    - \`sliding_window_at_most_k_distinct\` â†’ SubstringSlidingWindow
    - \`sliding_window_freq_cover\` â†’ SubstringSlidingWindow
    - \`sliding_window_fixed_size\` â†’ SubstringSlidingWindow
    - \`sliding_window_cost_bounded\` â†’ SubstringSlidingWindow
  - **é›™æŒ‡æ¨™ï¼ˆå®¶æ—ï¼‰**
    - \`two_pointer_opposite_maximize\` â†’ TwoPointersTraversal
    - \`two_pointer_opposite_palindrome\` â†’ TwoPointersTraversal
    - \`two_pointer_three_sum\` â†’ TwoPointersTraversal
    - \`two_pointer_writer_dedup\` â†’ TwoPointersTraversal
    - \`two_pointer_writer_remove\` â†’ TwoPointersTraversal
    - \`two_pointer_writer_compact\` â†’ TwoPointersTraversal
    - \`fast_slow_cycle_detect\` â†’ FastSlowPointers
    - \`fast_slow_cycle_start\` â†’ FastSlowPointers
    - \`fast_slow_midpoint\` â†’ FastSlowPointers
    - \`fast_slow_implicit_cycle\` â†’ FastSlowPointers
    - \`dutch_flag_partition\` â†’ TwoPointerPartition
    - \`two_way_partition\` â†’ TwoPointerPartition
    - \`quickselect_partition\` â†’ TwoPointerPartition
  - **åˆä½µ**
    - \`merge_two_sorted_lists\` â†’ MergeSortedSequences
    - \`merge_two_sorted_arrays\` â†’ MergeSortedSequences
    - \`merge_sorted_from_ends\` â†’ MergeSortedSequences
    - \`merge_k_sorted_heap\` â†’ KWayMerge
    - \`merge_k_sorted_divide\` â†’ KWayMerge
  - **äºŒåˆ†æœå°‹**
    - \`binary_search_index_boundary\` â†’ BinarySearchBoundary
    - \`binary_search_on_answer\` â†’ BinarySearchBoundary
    - \`binary_search_partition_index\` â†’ BinarySearchBoundary
  - **å †ç©**
    - \`heap_kth_element\` â†’ HeapTopK
  - **éˆçµä¸²åˆ—æŒ‡æ¨™æ‰‹è¡“**
    - \`linked_list_k_group_reversal\` â†’ LinkedListInPlaceReversal
  - **å›æº¯æ³•**
    - permutations / subsets / combinations / constraints / segmentation / grid paths â†’ BacktrackingExploration
  - **åœ– BFS**
    - \`grid_bfs_propagation\` â†’ GridBFSMultiSource
  - **å–®èª¿å †ç–Š**
    - \`next_greater_element\` â†’ MonotonicStack
    - \`histogram_max_rectangle\` â†’ MonotonicStack
  - **æ¨¹**
    - \`tree_dfs_recursive\` â†’ TreeTraversalDFS
    - \`bfs_level_order\` â†’ TreeTraversalBFS
  - **DP**
    - \`dp_fibonacci_style\` â†’ DPSequence
    - \`dp_knapsack\` â†’ DPSequence
    - \`dp_longest_increasing\` â†’ DPSequence
    - \`dp_palindrome\` â†’ DPInterval

<!-- markmap: fold -->
- **è·¨ kernel é¡Œï¼ˆåŒä¸€é¡Œï¼Œå¤šå€‹ kernelï¼‰**
  - **[LeetCode 4](https://leetcode.com/problems/median-of-two-sorted-arrays/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0004_median_of_two_sorted_arrays.py)
  - **[LeetCode 215](https://leetcode.com/problems/kth-largest-element-in-an-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0215_kth_largest_element_in_an_array.py)

---

## âš¡ API Kernel: \`HashMapLookup\`ï¼ˆè£œæ•¸ï¼è¨ˆæ•¸æŸ¥æ‰¾ï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šé™£åˆ—ï¼å­—ä¸²ä¸²æµï¼›é †åºé€šå¸¸ä¸é‡è¦ï¼›ä¸éœ€æ’åºä¹Ÿå¯
  - **è¼¸å‡º**ï¼šå¸ƒæ—å€¼ï¼ç´¢å¼•é…å°ï¼è¨ˆæ•¸
  - **æ›é‰¤**ï¼š\`key(x)\`, \`need(x)\`, \`on_hit(i, j)\`, \`update(map, x)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šéœ€è¦å¯é›œæ¹Šçš„ keyï¼›æœ€å£æƒ…æ³é›œæ¹Šç¢°æ’ï¼›ã€Œå›å‚³ç´¢å¼•ã€æ˜¯å¦æ­£ç¢ºå–æ±ºæ–¼ä½ æ˜¯å¦æœƒä¿®æ”¹ï¼æ’åº
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šåœ¨æ­¥é©Ÿ \`i\`ï¼Œå°ç…§è¡¨åŒ…å«å‰ç¶´ \`nums[:i]\` ä¸­æ‰€æœ‰èƒ½ç”¨ä¾†å›ç­” \`nums[i]\` æŸ¥è©¢æ‰€éœ€çš„è³‡è¨Š
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - å»é‡ã€é¡ join çš„æŸ¥æ‰¾ã€åœ¨ logs/ETL åšé »ç‡è¨ˆæ•¸
  - è¦å‰‡é©—è­‰ï¼åè©æ¬ºçš„å¿«é€Ÿæˆå“¡æ¸¬è©¦
- **é©ç”¨æ–¼â€¦ï¼ä¸é©ç”¨æ–¼â€¦**
  - é©ç”¨æ–¼ï¼šè£œæ•¸é‚è¼¯åªä¾è³´å·²çœ‹éçš„å‰ç¶´ï¼ˆä¸éœ€è¦æœªä¾†è³‡è¨Šï¼‰
  - ä¸é©ç”¨æ–¼ï¼šä½ å¿…é ˆåœ¨åŸºæ–¼æ’åºçš„è½‰æ›ä¸‹ä¿ç•™åŸå§‹é †åºï¼ˆé™¤éä½ å­˜ç´¢å¼•ï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 1](https://leetcode.com/problems/two-sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0001_two_sum.py)
- **æ¨£å¼**
  - **è£œæ•¸æŸ¥æ‰¾**ï¼ˆ\`hash_map_complement\`ï¼‰
    - [LeetCode 1](https://leetcode.com/problems/two-sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0001_two_sum.py)

<!-- markmap: fold -->
- **æ¨¡æ¿ï¼ˆè£œæ•¸ï¼‰**
\`\`\`python
seen = {}  # value -> index (or count)
for i, x in enumerate(nums):
    y = target - x
    if y in seen:
        return [seen[y], i]  # hook: on_hit
    seen[x] = i             # hook: update
\`\`\`

---

## âš¡ API Kernel: \`SubstringSlidingWindow\`ï¼ˆè¦–çª—ç‹€æ…‹æ©Ÿï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šå­—ä¸²ï¼é™£åˆ—ï¼›é€šå¸¸ç‚º 1Dï¼›åœ¨æ“´å¼µ \`R\` æ™‚å¸¸éœ€è¦å–®èª¿çš„åˆæ³•æ€§ï¼›å›ºå®šå¤§å°éœ€è¦å·²çŸ¥è¦–çª—é•·åº¦
  - **è¼¸å‡º**ï¼šæœ€å¤§ï¼æœ€å°é•·åº¦ã€æœ€ä½³è¦–çª— \`[L,R]\`ã€æ˜¯å¦å­˜åœ¨ï¼ˆå¸ƒæ—ï¼‰ã€æ‰€æœ‰è¦–çª—åˆ—è¡¨
  - **æ›é‰¤**ï¼š\`add(x)\`, \`remove(x)\`, \`is_valid(state)\`, \`score(left, right, state)\`, \`update_answer(...)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šè‹¥åˆæ³•æ€§ç›¸å°æ–¼æ“´å¼µ \`R\` ä¸¦éå–®èª¿ï¼Œå¤©çœŸçš„æ»‘å‹•è¦–çª—æœƒå¤±æ•—æˆ–éœ€è¦é¡å¤–è³‡æ–™çµæ§‹ï¼ˆä¾‹å¦‚ç”¨å–®èª¿ä½‡åˆ—ç¶­è­· max/minï¼‰
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šç¶­è­·ä¸€å€‹åœ¨è¦å‰‡ä¸‹ *åˆæ³•* çš„è¦–çª— \`[L..R]\`ï¼›æ“´å¼µ \`R\`ï¼Œç§»å‹• \`L\` ä»¥æ¢å¾©åˆæ³•æ€§
- **è¤‡é›œåº¦**ï¼šç•¶ **è¦–çª—åˆæ³•æ€§ç›¸å°æ–¼æ“´å¼µ $R$ æ˜¯å–®èª¿** æ™‚ï¼Œæ™‚é–“ç‚º $O(n)$ï¼ˆå› æ­¤ \`L\` åªæœƒå¾€å‰ç§»ï¼‰ã€‚è‹¥åˆæ³•æ€§éå–®èª¿ï¼Œæ»‘å‹•è¦–çª—å¯èƒ½éœ€è¦è¼”åŠ©è³‡æ–™çµæ§‹æˆ–ä¸é©ç”¨ã€‚
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - æ—¥èªŒæƒæï¼token ä¸²æµï¼ˆä¾‹å¦‚ã€Œæ¶µè“‹é—œéµå­—çš„æœ€å°è·¨åº¦ã€ï¼‰
  - é™æµèˆ‡è¦–çª—åŒ–æŒ‡æ¨™ï¼ˆå›ºå®šå¤§å°è¨ˆæ•¸ï¼‰
  - Sessionizationï¼æœ€é•·è¿‘æœŸä¸é‡è¤‡ç­‰åˆ†æ
- **çµ„åˆ**
  - æ»‘å‹•è¦–çª— + **é›œæ¹Šè¡¨ï¼è¨ˆæ•¸å™¨**ï¼ˆå­—å…ƒè¨ˆæ•¸ã€distinct è¿½è¹¤ï¼‰
  - æ»‘å‹•è¦–çª—ï¼ˆå›ºå®šå¤§å°ï¼‰+ **rolling hash** åšæŒ‡ç´‹ï¼ˆå»¶ä¼¸ï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 3](https://leetcode.com/problems/longest-substring-without-repeating-characters/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0003_longest_substring_without_repeating_characters.py)
    - ğŸ”¥ [LeetCode 76](https://leetcode.com/problems/minimum-window-substring/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0076_minimum_window_substring.py)
    - ğŸ”¥ [LeetCode 209](https://leetcode.com/problems/minimum-size-subarray-sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0209_minimum_size_subarray_sum.py)
  - **é«˜é »ï¼ˆâ­ï¼‰**
    - â­ [LeetCode 340](https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0340_longest_substring_with_at_most_k_distinct.py)
    - â­ [LeetCode 567](https://leetcode.com/problems/permutation-in-string/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0567_permutation_in_string.py)
    - â­ [LeetCode 438](https://leetcode.com/problems/find-all-anagrams-in-a-string/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0438_find_all_anagrams_in_a_string.py)
- **æ¨£å¼**
  - **å”¯ä¸€è¦–çª—**ï¼ˆ\`sliding_window_unique\`ï¼‰â€” æœ€å¤§åŒ–
    - [LeetCode 3](https://leetcode.com/problems/longest-substring-without-repeating-characters/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0003_longest_substring_without_repeating_characters.py)
  - **æœ€å¤š K ç¨®ä¸åŒå­—å…ƒ**ï¼ˆ\`sliding_window_at_most_k_distinct\`ï¼‰â€” æœ€å¤§åŒ–
    - [LeetCode 340](https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0340_longest_substring_with_at_most_k_distinct.py)
  - **é »ç‡æ¶µè“‹ï¼ç²¾ç¢ºæ¯”å°ï¼ˆå¯è®Šå¤§å°ï¼‰**ï¼ˆ\`sliding_window_freq_cover\`ï¼‰â€” æœ€å°åŒ–ï¼å­˜åœ¨æ€§ï¼æ‰¾å‡ºå…¨éƒ¨
    - [LeetCode 76](https://leetcode.com/problems/minimum-window-substring/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0076_minimum_window_substring.py)
  - **å›ºå®šå¤§å°è¦–çª—ï¼ˆé•·åº¦ |t| ä¸Šçš„ç²¾ç¢ºå¤šé‡é›†åˆï¼‰**ï¼ˆ\`sliding_window_fixed_size\`ï¼‰â€” å­˜åœ¨æ€§ï¼æ‰¾å‡ºå…¨éƒ¨
    - [LeetCode 567](https://leetcode.com/problems/permutation-in-string/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0567_permutation_in_string.py)
    - [LeetCode 438](https://leetcode.com/problems/find-all-anagrams-in-a-string/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0438_find_all_anagrams_in_a_string.py)
  - **æˆæœ¬ä¸Šç•Œï¼ç¸½å’Œé™åˆ¶**ï¼ˆ\`sliding_window_cost_bounded\`ï¼‰â€” æœ€å°åŒ–
    - [LeetCode 209](https://leetcode.com/problems/minimum-size-subarray-sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0209_minimum_size_subarray_sum.py)
    - **å‚™è¨»ï¼ˆæ­£ç¢ºæ€§æ³¨æ„äº‹é …ï¼‰**ï¼šä¹‹æ‰€ä»¥æˆç«‹ï¼Œæ˜¯å› ç‚ºæ‰€æœ‰æ•¸å­—éƒ½æ˜¯ **æ­£æ•¸ï¼éè² æ•¸**ï¼ˆç•¶ \`L\`/\`R\` ç§»å‹•æ™‚ï¼Œç¸½å’Œæœƒå–®èª¿æ”¹è®Šï¼‰ã€‚è‹¥æœ‰è² æ•¸ï¼Œæ”¹ç”¨å‰ç¶´å’Œ + å–®èª¿ä½‡åˆ—ï¼å…¶ä»–æ–¹æ³•ã€‚

- **å°ç…§è¡¨ï¼ˆå¿ƒæ™ºæ¨¡å‹ï¼‰**
  - | é¡Œç›® | ä¸è®Šé‡ | ç‹€æ…‹ | è¦–çª— | ç›®æ¨™ |
    |---|---|---|---|---|
    | [LeetCode 3](https://leetcode.com/problems/longest-substring-without-repeating-characters/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0003_longest_substring_without_repeating_characters.py)
    | [LeetCode 340](https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0340_longest_substring_with_at_most_k_distinct.py)
    | [LeetCode 76](https://leetcode.com/problems/minimum-window-substring/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0076_minimum_window_substring.py)[c] â‰¥ need[c]\`ï¼ˆç­‰åƒ¹ï¼š\`formed == required\`ï¼‰ | need/have + formed | å¯è®Š | min |
    | [LeetCode 567](https://leetcode.com/problems/permutation-in-string/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0567_permutation_in_string.py)
    | [LeetCode 438](https://leetcode.com/problems/find-all-anagrams-in-a-string/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0438_find_all_anagrams_in_a_string.py)
    | [LeetCode 209](https://leetcode.com/problems/minimum-size-subarray-sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0209_minimum_size_subarray_sum.py)

<!-- markmap: fold -->
- **æ¨¡æ¿ï¼ˆé¡¯å¼æ›é‰¤ + ä¸è®Šé‡ï¼‰**
\`\`\`python
left = 0
state = init_state()
ans = init_ans()

for right, x in enumerate(seq):
    add(state, x)  # hook

    # Mode A: maximize / maintain validity by shrinking while invalid
    while not is_valid(state):  # hook
        remove(state, seq[left])  # hook
        left += 1

    # Invariants at this point:
    # 1) Before ans update, window [left..right] is valid: is_valid(state) == True
    # 2) state == aggregate(seq[left:right+1]) (freq/sum/etc.)

    ans = update_answer(ans, left, right, state)  # hook

    # Mode B (alternative): minimize a valid window by shrinking while still valid
    # while is_valid(state):
    #     ans = update_answer(ans, left, right, state)
    #     remove(state, seq[left]); left += 1

# Fixed-size window note:
# - When window size is fixed (k), you "add right", and if right-left+1 > k then "remove left" once.
\`\`\`

<!-- markmap: fold -->
- **æ¬Šè¡¡ï¼ˆé¢è©¦å¸¸è¦‹è¿½å•ï¼‰**
  - **[LeetCode 76](https://leetcode.com/problems/minimum-window-substring/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0076_minimum_window_substring.py)**ï¼šç”¨é™£åˆ—è¨ˆæ•¸å™¨ï¼ˆä¾‹å¦‚å¤§å° 128/256ï¼‰å° ASCII æ›´å¿«æ›´ç°¡å–®ï¼›é›œæ¹Šè¡¨å‰‡å° Unicodeï¼å¤§å­—æ¯è¡¨æ›´é€šç”¨
  - è¿½è¹¤ \`formed/required\` å¯é¿å…æ¯æ­¥åš $O(\\Sigma)$ æª¢æŸ¥ï¼›å¤©çœŸçš„ã€Œæ˜¯å¦æ¶µè“‹ã€æª¢æŸ¥å¸¸å¸¸æœƒ TLE æˆ–åœ¨é‡è¤‡å­—å…ƒä¸Šå‡ºéŒ¯

---

## ğŸ§© å®¶æ—ï¼šé›™æŒ‡æ¨™æŠ€å·§
- **èµ°è¨ª**ï¼ˆ\`TwoPointersTraversal\`ï¼‰ï¼šå–®èª¿ç§»å‹•ä»¥ç¸®å°æœå°‹ç©ºé–“ï¼ˆå¸¸è¦‹æ–¼æ’åºï¼é›™ç«¯ï¼‰
- **å¿«æ…¢**ï¼ˆ\`FastSlowPointers\`ï¼‰ï¼šç”¨é€Ÿç‡å·®è™•ç†éˆçµï¼å‡½å¼åœ–ä¸­çš„ç’°èˆ‡ä¸­é»
- **åˆ†å‰²**ï¼ˆ\`TwoPointerPartition\`ï¼‰ï¼šç”¨å€åŸŸä¸è®Šé‡åšé‡æ’ï¼é¸æ“‡

---

## âš¡ API Kernel: \`TwoPointersTraversal\`ï¼ˆå”èª¿å¼æŒ‡æ¨™ç§»å‹•ï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šé™£åˆ—ï¼å­—ä¸²ï¼›å¸¸ç‚ºå·²æ’åºæˆ–æ”¯æ´å–®èª¿æƒæï¼›å¯èƒ½éœ€è¦åŸåœ°å¯«å…¥
  - **è¼¸å‡º**ï¼šæœ€å¤§åˆ†æ•¸ã€å¸ƒæ—å€¼ã€ç´¢å¼•ã€ä¿®æ”¹å¾Œçš„é™£åˆ—é•·åº¦
  - **æ›é‰¤**ï¼š\`should_move_left(...)\`, \`should_move_right(...)\`, \`keep(x)\`, \`write(x)\`, \`skip_duplicates(...)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šç›¸å‘æŒ‡æ¨™é€šå¸¸éœ€è¦æ’åºï¼å–®èª¿ç›®æ¨™ï¼›writer å‡è¨­å…è¨±åŸåœ°ä¿®æ”¹
- **æ ¸å¿ƒä¸è®Šé‡ï¼ˆä¾å­é¡å‹ï¼‰**
  - **ç›¸å‘æŒ‡æ¨™**ï¼šç¶­æŒå¯è¡Œæœå°‹å€é–“ \`[L,R]\`ï¼›æ¯æ¬¡ç§»å‹•éƒ½èƒ½ä¿è­‰æ›´æ–°å¾Œå€é–“å…§ä»å­˜åœ¨æœ€ä½³è§£ï¼ˆæ”¯é…æ€§è«–è­‰ï¼‰
  - **Writerï¼ˆè®€/å¯«ï¼‰**ï¼š\`arr[:write]\` æ°å¥½æ˜¯å¾ \`arr[:read]\` ä¿ç•™ä¸‹ä¾†ï¼å£“ç¸®å¾Œçš„å…ƒç´ ï¼Œä¸¦æ»¿è¶³éæ¿¾ï¼å»é‡é™åˆ¶
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - æ•ˆèƒ½æ•æ„Ÿçš„ ETLï¼ç·©è¡å€åšåŸåœ°éæ¿¾ï¼å£“ç¸®
  - å°å·²æ’åºè³‡æ–™åšé›™ç«¯æƒæï¼ˆå»é‡ã€é…å°æª¢æŸ¥ã€è³‡æºæ‰“åŒ…é¡å»¶ä¼¸ï¼‰
- **çµ„åˆ**
  - é›™æŒ‡æ¨™ + **æ’åº**ï¼ˆk-sum å®¶æ—ã€å»é‡çª®èˆ‰ï¼‰
  - é›™æŒ‡æ¨™ + **é›œæ¹Šè¡¨**ï¼ˆæŸä¸€æŒ‡æ¨™ç§»å‹•æ™‚éœ€è¦å¿«é€Ÿæˆå“¡æŸ¥æ‰¾ï¼‰
- **é©ç”¨æ–¼â€¦ï¼ä¸é©ç”¨æ–¼â€¦**
  - é©ç”¨æ–¼ï¼šæŒ‡æ¨™ç§»å‹•å…·å–®èª¿æ€§ï¼Œä¸”ä½ èƒ½æå‡ºæ”¯é…æ€§ï¼å¯è¡Œæ€§è«–è­‰
  - ä¸é©ç”¨æ–¼ï¼šç›®æ¨™ï¼é™åˆ¶åœ¨æŒ‡æ¨™ç§»å‹•ä¸‹éå–®èª¿ï¼ˆé€šå¸¸è¡¨ç¤ºè¦ç”¨ DPï¼åœ–ï¼æœå°‹ï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 11](https://leetcode.com/problems/container-with-most-water/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0011_container_with_most_water.py)
    - ğŸ”¥ [LeetCode 15](https://leetcode.com/problems/3sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0015_3sum.py)
    - ğŸ”¥ [LeetCode 26](https://leetcode.com/problems/remove-duplicates-from-sorted-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0026_remove_duplicates_from_sorted_array.py)
  - **é«˜é »ï¼ˆâ­ï¼‰**
    - â­ [LeetCode 27](https://leetcode.com/problems/remove-element/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0027_remove_element.py)
    - â­ [LeetCode 283](https://leetcode.com/problems/move-zeroes/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0283_move_zeroes.py)
    - â­ [LeetCode 125](https://leetcode.com/problems/valid-palindrome/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0125_valid_palindrome.py)
    - â­ [LeetCode 680](https://leetcode.com/problems/valid-palindrome-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0680_valid_palindrome_ii.py)
    - â­ [LeetCode 16](https://leetcode.com/problems/3sum-closest/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0016_3sum_closest.py)
- **æ¨£å¼**
  - **ç›¸å‘æŒ‡æ¨™ï¼šæœ€å¤§åŒ–å‡½å¼**ï¼ˆ\`two_pointer_opposite_maximize\`ï¼‰
    - [LeetCode 11](https://leetcode.com/problems/container-with-most-water/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0011_container_with_most_water.py)
    - **å¼•ç†ï¼ˆæ”¯é…æ€§ï¼‰**ï¼šè‹¥ \`height[L] â‰¤ height[R]\`ï¼Œä»»ä½•ä½¿ç”¨ \`L\` ä¸”å–æŸå€‹ \`R' < R\` çš„å®¹å™¨ï¼Œå¯¬åº¦æ›´å°è€Œæœ€å°é«˜åº¦ä»å— \`height[L]\` ä¸Šç•Œé™åˆ¶ï¼›å› æ­¤éå¢ \`L\` ä¸æœƒä¸Ÿå¤±æœ€ä½³è§£ã€‚
  - **ç›¸å‘æŒ‡æ¨™ï¼šå›æ–‡é©—è­‰**ï¼ˆ\`two_pointer_opposite_palindrome\`ï¼‰
    - [LeetCode 125](https://leetcode.com/problems/valid-palindrome/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0125_valid_palindrome.py)
    - [LeetCode 680](https://leetcode.com/problems/valid-palindrome-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0680_valid_palindrome_ii.py)
  - **å»é‡çª®èˆ‰ï¼ˆæ’åº + è·³éï¼‰ï¼š3Sum**ï¼ˆ\`two_pointer_three_sum\`ï¼‰
    - [LeetCode 15](https://leetcode.com/problems/3sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0015_3sum.py)
    - [LeetCode 16](https://leetcode.com/problems/3sum-closest/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0016_3sum_closest.py)
  - **Writer æ¨£å¼ï¼ˆåŸåœ°ï¼‰**  
    - å»é‡ï¼ˆ\`two_pointer_writer_dedup\`ï¼‰
      - [LeetCode 26](https://leetcode.com/problems/remove-duplicates-from-sorted-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0026_remove_duplicates_from_sorted_array.py)
      - [LeetCode 80](https://leetcode.com/problems/remove-duplicates-from-sorted-array-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0080_remove_duplicates_from_sorted_array_ii.py)
    - ç§»é™¤ï¼ˆ\`two_pointer_writer_remove\`ï¼‰
      - [LeetCode 27](https://leetcode.com/problems/remove-element/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0027_remove_element.py)
    - å£“ç¸®ï¼ˆ\`two_pointer_writer_compact\`ï¼‰
      - [LeetCode 283](https://leetcode.com/problems/move-zeroes/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0283_move_zeroes.py)

- **é—œéµè¡¨ï¼ˆé¸å°å­æ¨£å¼ï¼‰**
  - | å­æ¨£å¼ | é©ç”¨æƒ…å¢ƒ | å¸¸è¦‹ä¸è®Šé‡ | ç¯„ä¾‹ |
    |---|---|---|---|
    | ç›¸å‘æŒ‡æ¨™ | å·²æ’åºï¼å°ç¨±ï¼é›™ç«¯æœ€ä½³åŒ– | æœ€ä½³è§£ä»åœ¨ \`[L,R]\` | [LeetCode 11](https://leetcode.com/problems/container-with-most-water/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0011_container_with_most_water.py)
    | Writer | åŸåœ°éæ¿¾ï¼å»é‡ | \`arr[:write]\` æ°å¥½æ˜¯ã€Œå¾ arr[:read] ä¿ç•™ã€ | [LeetCode 26](https://leetcode.com/problems/remove-duplicates-from-sorted-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0026_remove_duplicates_from_sorted_array.py)
    | å»é‡çª®èˆ‰ | k-sum å®¶æ—ï¼ˆæ’åº + skipï¼‰ | åŒè§’è‰²è·³éé‡è¤‡ | [LeetCode 15](https://leetcode.com/problems/3sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0015_3sum.py)

<!-- markmap: fold -->
- **æ¨¡æ¿**
  - **ç›¸å‘æŒ‡æ¨™ï¼ˆä»¥æ”¯é…æ€§é©…å‹•ï¼‰**
\`\`\`python
L, R = 0, len(arr) - 1
best = init_best()

while L < R:
    best = update(best, L, R)  # hook: score(L,R)
    if should_move_left(arr, L, R):  # hook (often based on dominance)
        L += 1
    else:
        R -= 1
return best
\`\`\`
  - **Writerï¼ˆè®€/å¯«ï¼‰**
\`\`\`python
write = 0
for read in range(len(arr)):
    if keep(arr[read]):              # hook
        arr[write] = arr[read]       # hook: write
        write += 1
return write  # new length
\`\`\`

---

## âš¡ API Kernel: \`FastSlowPointers\`ï¼ˆFloydï¼ä¸­é»ï¼éš±å¼ç’°ï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šéˆçµä¸²åˆ—ç¯€é»ï¼å‡½å¼åœ– \`f(x)\`ï¼ä»¥é™£åˆ—æ¨¡æ“¬ next æŒ‡æ¨™
  - **è¼¸å‡º**ï¼šæ˜¯å¦æœ‰ç’°ï¼ˆå¸ƒæ—ï¼‰ã€ç’°çš„èµ·é»ç¯€é»/ç´¢å¼•ã€ä¸­é»ç¯€é»
  - **æ›é‰¤**ï¼š\`next(node)\` / \`f(x)\`, \`meet_action\`, \`phase2_reset\`
  - **å¤±æ•—æ¨¡å¼**ï¼šéœ€è¦ç¢ºå®šæ€§çš„ã€Œä¸‹ä¸€æ­¥ã€ï¼›è‹¥åœ–æœƒåˆ†å²”å°±ç„¡æ³•åµæ¸¬ç’°ï¼ˆéœ€ visited é›†åˆï¼‰
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šfast æ¯æ¬¡èµ° 2 æ­¥ã€slow æ¯æ¬¡èµ° 1 æ­¥ï¼›è‹¥å­˜åœ¨ç’°å‰‡å¿…å®šç›¸é‡
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - åµæ¸¬é¡æŒ‡æ¨™çµæ§‹ã€è¿­ä»£å™¨ã€ç‹€æ…‹æ©Ÿä¸­çš„è¿´åœˆ
  - æ‰¾ä¸­é»ä»¥åˆ†å‰²ä¸²åˆ—ï¼ˆä¾‹å¦‚éˆçµä¸²åˆ—ä¸Šçš„ mergesortï¼‰
- **çµ„åˆ**
  - å¿«æ…¢æŒ‡æ¨™ + **é›œæ¹Šé›†åˆ**ï¼ˆä¸€èˆ¬åœ–éœ€è¦é¡¯å¼ visited æ™‚ï¼‰
- **é©ç”¨æ–¼â€¦ï¼ä¸é©ç”¨æ–¼â€¦**
  - é©ç”¨æ–¼ï¼šæ¯å€‹ç‹€æ…‹æ°å¥½åªæœ‰ä¸€å€‹å¾Œç¹¼ï¼ˆéˆçµä¸²åˆ—ï¼å‡½å¼åœ–ï¼‰
  - ä¸é©ç”¨æ–¼ï¼šç¯€é»æœ‰å¤šæ¢å‡ºé‚Šï¼ˆæ”¹ç”¨ DFS/BFS + visitedï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 141](https://leetcode.com/problems/linked-list-cycle/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0141_linked_list_cycle.py)
    - ğŸ”¥ [LeetCode 142](https://leetcode.com/problems/linked-list-cycle-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0142_linked_list_cycle_ii.py)
  - **é«˜é »ï¼ˆâ­ï¼‰**
    - â­ [LeetCode 876](https://leetcode.com/problems/middle-of-the-linked-list/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0876_middle_of_the_linked_list.py)
    - â­ [LeetCode 202](https://leetcode.com/problems/happy-number/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0202_happy_number.py)
- **æ¨£å¼**
  - åµæ¸¬ç’°ï¼ˆ\`fast_slow_cycle_detect\`ï¼‰
    - [LeetCode 141](https://leetcode.com/problems/linked-list-cycle/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0141_linked_list_cycle.py)
  - ç’°èµ·é»ï¼ˆ\`fast_slow_cycle_start\`ï¼‰
    - [LeetCode 142](https://leetcode.com/problems/linked-list-cycle-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0142_linked_list_cycle_ii.py)
  - ä¸­é»ï¼ˆ\`fast_slow_midpoint\`ï¼‰
    - [LeetCode 876](https://leetcode.com/problems/middle-of-the-linked-list/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0876_middle_of_the_linked_list.py)
  - éš±å¼ç’°ï¼ˆ\`fast_slow_implicit_cycle\`ï¼‰
    - [LeetCode 202](https://leetcode.com/problems/happy-number/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0202_happy_number.py)

<!-- markmap: fold -->
- **æ¨¡æ¿ï¼ˆFloyd åµæ¸¬ç’° + æ‰¾èµ·é»ï¼‰**
\`\`\`python
slow = fast = head
while fast and fast.next:
    slow = slow.next
    fast = fast.next.next
    if slow == fast:
        break
else:
    return None  # no cycle (hook: return False for detect)

# phase 2: find start
p1, p2 = head, slow
while p1 != p2:
    p1 = p1.next
    p2 = p2.next
return p1
\`\`\`

---

## âš¡ API Kernel: \`TwoPointerPartition\`ï¼ˆåˆ†å‰²ï¼é¸æ“‡ï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šé™£åˆ—ï¼›å…è¨±åŸåœ°ä¿®æ”¹ï¼›åˆ¤å®šæ¢ä»¶æˆ– pivot é¸æ“‡
  - **è¼¸å‡º**ï¼šå·²åˆ†å‰²çš„é™£åˆ—ï¼›pivot æœ€çµ‚ç´¢å¼•ï¼›é¸æ“‡çµæœï¼ˆç¬¬ k å¤§/å°ï¼‰
  - **æ›é‰¤**ï¼š\`predicate(x)\`, \`choose_pivot(l,r)\`, \`swap(i,j)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šquickselect åœ¨ä¸ä½³ pivot ä¸‹æœ€å£ $O(n^2)$ï¼›æœƒä¿®æ”¹é™£åˆ—ï¼ˆå¯èƒ½é•åã€Œä¸å¯ä¿®æ”¹è¼¸å…¥ã€ï¼‰
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šç¶­æŒå€åŸŸï¼ˆä¾‹å¦‚ \`< pivot\`ã€\`= pivot\`ã€\`> pivot\`ï¼‰
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - ä¾æ¢ä»¶åŸåœ°åˆ†æ¡¶ï¼åˆ†æµï¼ˆä¾‹å¦‚ feature flagsã€è·¯ç”±ï¼‰
  - æ‰¹æ¬¡è³‡æ–™åš selection/ranking è€Œä¸éœ€å®Œæ•´æ’åº
- **çµ„åˆ**
  - åˆ†å‰² + å †ç©ï¼ˆ\`HeapTopK\`ï¼‰åœ¨ç¬¬ K å¤§/å°ï¼top-k çš„æ¬Šè¡¡ï¼ˆæ‰¹æ¬¡ vs ä¸²æµï¼‰
- **é©ç”¨æ–¼â€¦ï¼ä¸é©ç”¨æ–¼â€¦**
  - é©ç”¨æ–¼ï¼šå¯æ¥å—åŸåœ°ä¿®æ”¹ï¼Œä¸”ä½ éœ€è¦ selection/partition
  - ä¸é©ç”¨æ–¼ï¼šä½ éœ€è¦ç©©å®šæ€§ï¼ˆä¿ç•™ç›¸å°é †åºï¼‰ï¼Œé™¤éä½¿ç”¨ç©©å®šåˆ†å‰²ï¼ˆé¡å¤–ç©ºé–“ï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 75](https://leetcode.com/problems/sort-colors/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0075_sort_colors.py)
    - ğŸ”¥ [LeetCode 215](https://leetcode.com/problems/kth-largest-element-in-an-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0215_kth_largest_element_in_an_array.py)
  - **é«˜é »ï¼ˆâ­ï¼‰**
    - â­ [LeetCode 905](https://leetcode.com/problems/sort-array-by-parity/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0905_sort_array_by_parity.py)
    - â­ [LeetCode 922](https://leetcode.com/problems/sort-array-by-parity-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0922_sort_array_by_parity_ii.py)
- **æ¨£å¼**
  - è·è˜­åœ‹æ——ï¼ˆ\`dutch_flag_partition\`ï¼‰
    - [LeetCode 75](https://leetcode.com/problems/sort-colors/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0075_sort_colors.py)
  - é›™å‘åˆ†å‰²ï¼ˆ\`two_way_partition\`ï¼‰
    - [LeetCode 905](https://leetcode.com/problems/sort-array-by-parity/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0905_sort_array_by_parity.py)
    - [LeetCode 922](https://leetcode.com/problems/sort-array-by-parity-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0922_sort_array_by_parity_ii.py)
  - Quickselect åˆ†å‰²ï¼ˆ\`quickselect_partition\`ï¼‰
    - [LeetCode 215](https://leetcode.com/problems/kth-largest-element-in-an-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0215_kth_largest_element_in_an_array.py)
    - **å‚™è¨»**ï¼šæœŸæœ› $O(n)$ï¼Œæœ€å£ $O(n^2)$ï¼ˆé™¤éç”¨ median-of-mediansï¼‰ï¼›ç©ºé–“è¿­ä»£ç‰ˆ $O(1)$ï¼éè¿´ç‰ˆ $O(\\log n)$ã€‚

<!-- markmap: fold -->
- **æ¨¡æ¿ï¼ˆquickselectï¼Œè¿­ä»£ï¼‰**
\`\`\`python
def partition(l, r):
    pivot = nums[r]  # hook: choose_pivot
    i = l
    for j in range(l, r):
        if nums[j] <= pivot:          # hook: comparator for kth largest/smallest
            nums[i], nums[j] = nums[j], nums[i]
            i += 1
    nums[i], nums[r] = nums[r], nums[i]
    return i

l, r = 0, len(nums) - 1
while True:
    p = partition(l, r)
    if p == k_index:
        return nums[p]
    elif p < k_index:
        l = p + 1
    else:
        r = p - 1
\`\`\`

---

## âš¡ API Kernel: \`MergeSortedSequences\`ï¼ˆé›™å‘åˆä½µï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šå…©å€‹å·²æ’åºåºåˆ—ï¼ˆé™£åˆ—/åˆ—è¡¨/éˆçµä¸²åˆ—ï¼‰ï¼›æœ‰æ™‚éœ€åŸåœ°åˆä½µåˆ°ç›®æ¨™ç·©è¡å€
  - **è¼¸å‡º**ï¼šåˆä½µå¾Œçš„å·²æ’åºåºåˆ—
  - **æ›é‰¤**ï¼š\`less(a,b)\`, \`take_left()\`, \`take_right()\`
  - **å¤±æ•—æ¨¡å¼**ï¼šéœ€è¦å·²æ’åºè¼¸å…¥ï¼›åŸåœ°åˆä½µéœ€è¦è¶³å¤ ç·©è¡ï¼å°å¿ƒç´¢å¼•
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šæŒ‡æ¨™ \`i,j\` æ°¸é æŒ‡å‘å„è‡ªåºåˆ—ä¸­ä¸‹ä¸€å€‹å°šæœªåˆä½µçš„å…ƒç´ 
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - åˆä½µå·²æ’åº runï¼ˆå¤–éƒ¨æ’åºï¼‰ã€åˆä½µæ™‚é–“åºäº‹ä»¶ä¸²æµ
  - è¼¸å…¥å·²æ’åºæ™‚çš„é›™å‘ã€Œä¸²æµ joinã€å¼é‚è¼¯
- **çµ„åˆ**
  - MergeSortedSequences + KWayMergeï¼ˆK å‘å¯ç”±é‡è¤‡é›™å‘åˆä½µå»ºæ§‹ï¼‰
- **é©ç”¨æ–¼â€¦ï¼ä¸é©ç”¨æ–¼â€¦**
  - é©ç”¨æ–¼ï¼šè¼¸å…¥å·²æ’åºä¸”ä½ æƒ³è¦ç·šæ€§æ™‚é–“åˆä½µ
  - ä¸é©ç”¨æ–¼ï¼šè¼¸å…¥æœªæ’åºï¼ˆå…ˆæ’åºæˆ–æ”¹ç”¨å †ç©ï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 21](https://leetcode.com/problems/merge-two-sorted-lists/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0021_merge_two_sorted_lists.py)
    - ğŸ”¥ [LeetCode 88](https://leetcode.com/problems/merge-sorted-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0088_merge_sorted_array.py)
  - **é«˜é »ï¼ˆâ­ï¼‰**
    - â­ [LeetCode 977](https://leetcode.com/problems/squares-of-a-sorted-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0977_squares_of_a_sorted_array.py)
- **æ¨£å¼**
  - åˆä½µå…©å€‹å·²æ’åºéˆçµä¸²åˆ—ï¼ˆ\`merge_two_sorted_lists\`ï¼‰
    - [LeetCode 21](https://leetcode.com/problems/merge-two-sorted-lists/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0021_merge_two_sorted_lists.py)
  - åˆä½µå…©å€‹å·²æ’åºé™£åˆ—ï¼ˆ\`merge_two_sorted_arrays\`ï¼‰
    - [LeetCode 88](https://leetcode.com/problems/merge-sorted-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0088_merge_sorted_array.py)
  - å¾å…©ç«¯åˆä½µï¼ˆ\`merge_sorted_from_ends\`ï¼‰
    - [LeetCode 977](https://leetcode.com/problems/squares-of-a-sorted-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0977_squares_of_a_sorted_array.py)

<!-- markmap: fold -->
- **æ¨¡æ¿ï¼ˆé›™å‘åˆä½µï¼‰**
\`\`\`python
i = j = 0
out = []
while i < len(A) and j < len(B):
    if A[i] <= B[j]:
        out.append(A[i]); i += 1
    else:
        out.append(B[j]); j += 1
out.extend(A[i:])
out.extend(B[j:])
return out
\`\`\`

---

## âš¡ API Kernel: \`KWayMerge\`ï¼ˆK å€‹å·²æ’åºåºåˆ—ï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šK å€‹å·²æ’åºåˆ—è¡¨ï¼è¿­ä»£å™¨ï¼›å¯èƒ½æ˜¯ä¸²æµ
  - **è¼¸å‡º**ï¼šåˆä½µå¾Œçš„å·²æ’åºåˆ—è¡¨ï¼è¿­ä»£å™¨
  - **æ›é‰¤**ï¼š\`push(item)\`, \`pop_min()\`, \`advance(source)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šéœ€è¦å·²æ’åºä¾†æºï¼›å †ç©æ³•éœ€è¦å †ç¯€é»çš„è¨˜æ†¶é«”
- **å…©ç¨®ç”Ÿç”¢ç­‰ç´šç­–ç•¥**
  - **æœ€å°å †ç©**ï¼ˆ\`merge_k_sorted_heap\`ï¼‰â€” $O(N \\log K)$ï¼ŒK å¤§ä¸”å„åˆ—è¡¨é•·åº¦ä¸å‡ï¼æˆ–ç‚ºä¸²æµæ™‚å¾ˆé©åˆ
  - **åˆ†æ²»æ³•**ï¼ˆ\`merge_k_sorted_divide\`ï¼‰â€” $O(N \\log K)$ï¼Œå¸¸æ•¸é€šå¸¸æ›´å°ã€å †æ“ä½œæ›´å°‘
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - åˆä½µå·²æ’åº run æª”ï¼ˆå¤–éƒ¨åˆä½µï¼‰ã€æ—¥èªŒå£“ç¸®æ•´ç†
  - ä»¥ä¸²æµæ–¹å¼åšæ™‚é–“åºäº‹ä»¶çš„ k-way merge
- **çµ„åˆ**
  - KWayMerge + äºŒåˆ†æœå°‹åˆ†å‰²ä»¥åšè·¨å·²æ’åºé™£åˆ—çš„åºçµ±è¨ˆé‡ï¼ˆè¦‹ [LeetCode 4](https://leetcode.com/problems/median-of-two-sorted-arrays/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0004_median_of_two_sorted_arrays.py)ï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 23](https://leetcode.com/problems/merge-k-sorted-lists/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0023_merge_k_sorted_lists.py)
  - **é«˜é »ï¼ˆâ­ï¼‰**
    - â­ [LeetCode 4](https://leetcode.com/problems/median-of-two-sorted-arrays/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0004_median_of_two_sorted_arrays.py)
- **é¡Œç›®**
  - [LeetCode 23](https://leetcode.com/problems/merge-k-sorted-lists/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0023_merge_k_sorted_lists.py)
  - è·¨ kernel æ··åˆï¼ˆåˆä½µ + ä»¥åˆ†å‰²åšäºŒåˆ†æœå°‹ï¼‰
    - [LeetCode 4](https://leetcode.com/problems/median-of-two-sorted-arrays/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0004_median_of_two_sorted_arrays.py)

<!-- markmap: fold -->
- **æ¬Šè¡¡ï¼ˆå †ç© vs åˆ†æ²»ï¼‰**
  - **[LeetCode 23](https://leetcode.com/problems/merge-k-sorted-lists/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0023_merge_k_sorted_lists.py)**ï¼š
    - å †ç©ï¼šé©åˆé•·åº¦ä¸å‡æˆ–å¯å¢é‡ä¸²æµç¯€é»ï¼›ä»£åƒ¹æ˜¯å †æ“ä½œé »ç¹
    - åˆ†æ²»ï¼šå¸¸æ•¸é€šå¸¸æ›´å°ï¼›åˆä½µè¼ƒç¬¦åˆå¿«å–ï¼›åªè¦ merge-two ç©©å›ºï¼Œæ­£ç¢ºæ€§æ›´ç›´è§€

---

## âš¡ API Kernel: \`BinarySearchBoundary\`ï¼ˆé‚Šç•Œ + ç­”æ¡ˆç©ºé–“ï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šç”¨æ–¼ç´¢å¼•é‚Šç•Œçš„å·²æ’åºé™£åˆ—ï¼›ç”¨æ–¼å¯è¡Œæ€§æœå°‹çš„æ•¸å€¼ç­”æ¡ˆç©ºé–“ï¼›éœ€è¦å–®èª¿åˆ¤å®šæ¢ä»¶
  - **è¼¸å‡º**ï¼šç´¢å¼•ï¼ˆlower/upper boundï¼‰ã€æœ€å°ï¼æœ€å¤§å¯è¡Œå€¼ï¼Œæˆ–åˆ†å‰²ç´¢å¼•
  - **æ›é‰¤**ï¼š\`pred(mid)\`ï¼ˆå–®èª¿ï¼‰ã€\`lo/hi\` åˆå§‹åŒ–ã€\`mid\` åç½®ï¼ˆlower/upperï¼‰ã€é‚Šç•Œå›å‚³æ…£ä¾‹
  - **å¤±æ•—æ¨¡å¼**ï¼šåˆ¤å®šæ¢ä»¶éå–®èª¿ï¼›è¿´åœˆä¸è®Šé‡ä¸ä¸€è‡´å°è‡´ off-by-one
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šåˆ¤å®šæ¢ä»¶æ˜¯å–®èª¿çš„ï¼›äºŒåˆ†æœå°‹ç¶­æŒä¸€å€‹ä»åŒ…å«é‚Šç•Œï¼ç­”æ¡ˆçš„å€é–“
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - åœ¨å·²æ’åºè³‡æ–™ä¸­åš lower_bound/upper_bound æŸ¥æ‰¾
  - å®¹é‡è¦åŠƒé¡ã€Œæ‰¾æœ€å°å¯è¡Œ Xã€ï¼ˆååã€è³‡æº sizingï¼‰
- **çµ„åˆ**
  - å°ç­”æ¡ˆåšäºŒåˆ†æœå°‹ + è²ªå©ªæ³•ï¼DP çš„å¯è¡Œæ€§æª¢æŸ¥å™¨
  - åœ¨å·²æ’åºé™£åˆ—åšåˆ†å‰²ç´¢å¼•çš„äºŒåˆ†æœå°‹ï¼ˆåºçµ±è¨ˆé‡ï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 4](https://leetcode.com/problems/median-of-two-sorted-arrays/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0004_median_of_two_sorted_arrays.py)
- **æ¨£å¼**
  - **å°ç´¢å¼•é‚Šç•ŒåšäºŒåˆ†æœå°‹**ï¼ˆ\`binary_search_index_boundary\`ï¼‰
    - ï¼ˆç¶“å…¸ï¼‰ç¬¬ä¸€å€‹ \`>= x\`ã€æœ€å¾Œä¸€å€‹ \`<= x\`ã€lower_bound/upper_bound
  - **å°ç­”æ¡ˆç©ºé–“åšäºŒåˆ†æœå°‹**ï¼ˆ\`binary_search_on_answer\`ï¼‰
    - ï¼ˆç¶“å…¸ï¼‰åœ¨å–®èª¿å¯è¡Œæ€§åˆ¤å®šæ¢ä»¶ä¸‹æ‰¾æœ€å°å¯è¡Œï¼æœ€å¤§å¯è¡Œ
  - **åœ¨å·²æ’åºé™£åˆ—ä¸Šå°åˆ†å‰²ï¼ˆç´¢å¼•ï¼‰åšäºŒåˆ†æœå°‹**ï¼ˆ\`binary_search_partition_index\`ï¼‰
    - [LeetCode 4](https://leetcode.com/problems/median-of-two-sorted-arrays/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0004_median_of_two_sorted_arrays.py)
    - **ä¸è®Šé‡**ï¼šåœ¨ A é¸åˆ†å‰² \`i\`ï¼ˆB ç‚º \`j\`ï¼‰ä½¿å·¦åŠå¤§å°ç‚º \`k\`ï¼›ç¶­æŒ \`A[i-1] â‰¤ B[j]\` èˆ‡ \`B[j-1] â‰¤ A[i]\` ä½œç‚ºå¯è¡Œæ€§ï¼›åˆ¤å®šæ¢ä»¶å° \`i\` å–®èª¿ã€‚

<!-- markmap: fold -->
- **æ¨¡æ¿**
  - **ç´¢å¼•é‚Šç•Œï¼ˆlower_boundï¼šç¬¬ä¸€å€‹ä½¿ pred ç‚º True çš„ç´¢å¼•ï¼‰**
\`\`\`python
lo, hi = 0, len(arr)  # hi is exclusive
while lo < hi:
    mid = (lo + hi) // 2
    if pred(arr[mid]):      # monotone: False...False True...True
        hi = mid
    else:
        lo = mid + 1
return lo
\`\`\`
  - **ç­”æ¡ˆç©ºé–“ï¼ˆæœ€å°å¯è¡Œï¼‰**
\`\`\`python
lo, hi = low_possible, high_possible  # inclusive bounds
while lo < hi:
    mid = (lo + hi) // 2
    if feasible(mid):  # monotone: True for >= answer (or <=, depending)
        hi = mid
    else:
        lo = mid + 1
return lo
\`\`\`

---

## âš¡ API Kernel: \`HeapTopK\`ï¼ˆTop-Kï¼ç¬¬ K å¤§/å°ï¼ä¸²æµï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šä¸²æµæˆ–æ‰¹æ¬¡é™£åˆ—ï¼›ã€Œæœ€ä½³ã€æ¯”è¼ƒå™¨ï¼›K
  - **è¼¸å‡º**ï¼šç¬¬ k å€‹å…ƒç´ ã€Top K åˆ—è¡¨ã€å‹•æ…‹ä¸­ä½æ•¸ï¼ˆé›™å †ç©è®Šå½¢ï¼‰
  - **æ›é‰¤**ï¼š\`push(x)\`, \`pop()\`, \`should_evict(heap, x)\`, \`compare(a,b)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šè¨˜æ†¶é«” $O(k)$ï¼›è‹¥ä½ éœ€è¦ç©©å®šæ’åºè€Œä¸åšé¡å¤– bookkeepingï¼Œä¸¦ä¸ç†æƒ³
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šå †ç©ç¶­æŒç•¶å‰æœ€ä½³å€™é¸é›†åˆï¼ˆå¤§å° K æˆ–ç”¨é›™å †ç©ç¶­æŒä¸­ä½æ•¸ï¼‰
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - è¶¨å‹¢ä¸»é¡Œï¼ä¸²æµä¸Šçš„ top-K æŸ¥è©¢
  - ç·šä¸Šå½™ç¸½ï¼›æ’åå„€è¡¨æ¿
  - å»¶ä¼¸ï¼šè¿‘ä¼¼ heavy hittersï¼ˆä¾‹å¦‚ Count-Min Sketchï¼‰
- **çµ„åˆ**
  - HeapTopK + TwoPointerPartitionï¼ˆä¸²æµç”¨å †ç©ï¼›æ‰¹æ¬¡ç”¨ quickselectï¼‰
- **é©ç”¨æ–¼â€¦ï¼ä¸é©ç”¨æ–¼â€¦**
  - é©ç”¨æ–¼ï¼šéœ€è¦å¢é‡ç¶­è­·æˆ–åªè¦ top-Kï¼ˆä¸éœ€å…¨æ’åºï¼‰
  - ä¸é©ç”¨æ–¼ï¼šéœ€è¦æ‰€æœ‰é …ç›®çš„å…¨åºï¼ˆæ‡‰æ’åºï¼‰æˆ–éœ€è¦æœ€å£ç·šæ€§æ™‚é–“ä¿è­‰ï¼ˆquickselect çš„æ³¨æ„äº‹é …ï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 215](https://leetcode.com/problems/kth-largest-element-in-an-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0215_kth_largest_element_in_an_array.py)
- **æ¨£å¼**
  - ç¬¬ K å€‹å…ƒç´ ï¼ˆ\`heap_kth_element\`ï¼‰
    - [LeetCode 215](https://leetcode.com/problems/kth-largest-element-in-an-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0215_kth_largest_element_in_an_array.py)
    - **å‚™è¨»**ï¼šç”¨å¤§å°ç‚º $k$ çš„æœ€å°å †ç©æ˜¯ $O(n \\log k)$ï¼›æˆ–å…ˆ heapify å† pop k æ¬¡ç‚º $O(n + k \\log n)$ã€‚

<!-- markmap: fold -->
- **æ¬Šè¡¡ï¼ˆ[LeetCode 215](https://leetcode.com/problems/kth-largest-element-in-an-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0215_kth_largest_element_in_an_array.py)ï¼‰**
  - å †ç©ï¼š$O(n \\log k)$ï¼Œéå¸¸é©åˆä¸²æµï¼åªä¿ç•™ K å€‹ï¼›è¡¨ç¾å¯é æœŸ
  - Quickselectï¼šå¹³å‡ $O(n)$ï¼Œä½†æœ€å£ $O(n^2)$ï¼›æœƒä¿®æ”¹é™£åˆ—ï¼›é©åˆå¯ä¿®æ”¹çš„æ‰¹æ¬¡è³‡æ–™

---

## âš¡ API Kernel: \`LinkedListInPlaceReversal\`ï¼ˆæŒ‡æ¨™æ‰‹è¡“ï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šéˆçµä¸²åˆ—é ­ç¯€é»ï¼›ç¾¤çµ„å¤§å° \`k\` æˆ–é‚Šç•Œ
  - **è¼¸å‡º**ï¼šæ–°é ­ç¯€é»ï¼›ä¿®æ”¹å¾Œçš„ä¸²åˆ—
  - **æ›é‰¤**ï¼š\`reverse_segment(start, end)\`, \`connect(prev, new_head, new_tail, next)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šé‚Šç•Œ off-by-oneï¼›æœªä¿å­˜ \`next\` å°è‡´æŒ‡æ¨™éºå¤±
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šç¶­æŒ \`prev/curr/next\` ä¸¦æ­£ç¢ºé‡æ–°é€£æ¥é‚Šç•Œ
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - é…ç½®å—é™æ™‚çš„åŸåœ°ä¸²åˆ—ï¼ç·©è¡å€è½‰æ›
  - å€å¡Šåè½‰ï¼ˆæ‰¹æ¬¡è™•ç†ï¼‰èˆ‡æŒ‡æ¨™æ“ä½œç·´ç¿’
- **çµ„åˆ**
  - FastSlowPointersï¼ˆä¸­é»ï¼‰+ åè½‰ï¼ˆéˆçµä¸²åˆ—å›æ–‡é¡å»¶ä¼¸ï¼Œæ­¤è™•æœªåˆ—ï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 25](https://leetcode.com/problems/reverse-nodes-in-k-group/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0025_reverse_nodes_in_k_group.py)
  - **é«˜é »ï¼ˆâ­ï¼‰**
    - â­ [LeetCode 2](https://leetcode.com/problems/add-two-numbers/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0002_add_two_numbers.py)
- **æ¨£å¼**
  - k-group åè½‰ï¼ˆ\`linked_list_k_group_reversal\`ï¼‰
    - [LeetCode 25](https://leetcode.com/problems/reverse-nodes-in-k-group/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0025_reverse_nodes_in_k_group.py)
- **ç›¸é—œï¼ˆåŒå®¶æ—ï¼Œä¸åŒæ“ä½œï¼‰**
  - ä¸²åˆ—ç®—è¡“
    - [LeetCode 2](https://leetcode.com/problems/add-two-numbers/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0002_add_two_numbers.py)

<!-- markmap: fold -->
- **æ¨¡æ¿ï¼ˆåè½‰ k-group éª¨æ¶ï¼‰**
\`\`\`python
dummy = ListNode(0, head)
group_prev = dummy

while True:
    kth = get_kth(group_prev, k)   # hook
    if not kth:
        break
    group_next = kth.next

    # reverse [group_prev.next .. kth]
    prev, curr = group_next, group_prev.next
    while curr != group_next:
        nxt = curr.next
        curr.next = prev
        prev = curr
        curr = nxt

    tmp = group_prev.next          # new tail after reverse
    group_prev.next = kth          # connect new head
    group_prev = tmp               # advance
return dummy.next
\`\`\`

---

## âš¡ API Kernel: \`BacktrackingExploration\`ï¼ˆé¸æ“‡ â†’ æ¢ç´¢ â†’ å–æ¶ˆé¸æ“‡ï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šå€™é¸é›†åˆï¼åºåˆ—ï¼æ ¼ç‹€åœ–ï¼›é™åˆ¶æ¢ä»¶ï¼›å¯é¸æ“‡æ’åºä»¥å»é‡
  - **è¼¸å‡º**ï¼šè§£çš„åˆ—è¡¨ã€è¨ˆæ•¸ã€æ˜¯å¦å­˜åœ¨ï¼ˆå¸ƒæ—ï¼‰
  - **æ›é‰¤**ï¼š\`choices(state)\`, \`apply(choice)\`, \`undo(choice)\`, \`is_solution(state)\`, \`should_prune(state)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šæ²’æœ‰å‰ªææœƒæŒ‡æ•¸çˆ†ç‚¸ï¼›å»é‡è‹¥æ’åº/é †åºä¸ä¸€è‡´æœƒå‡º bug
- ==æ ¸å¿ƒä¸è®Šé‡==ï¼š**state ç²¾ç¢ºå°æ‡‰ç›®å‰è·¯å¾‘**ï¼ˆå›æº¯å¾Œä¸ç•™ã€Œå¹½éˆæ¨™è¨˜ã€ï¼‰
- **è¤‡é›œåº¦**ï¼šé€šå¸¸ç‚ºæŒ‡æ•¸ï¼éšä¹˜ï¼›ç›®æ¨™æ˜¯å‰ªæ + å»é‡
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - è¨­å®šæœå°‹ã€é™åˆ¶å¼æ±‚è§£ã€ç”¢ç”Ÿæ¸¬è©¦æ¡ˆä¾‹ï¼çµ„åˆ
  - å°ç‹€æ…‹ç©ºé–“çš„æ¢ç´¢èˆ‡å‰ªæè¦å‰‡ï¼ˆåŠŸèƒ½çµ„åˆã€æ’ç¨‹ï¼‰
- **çµ„åˆ**
  - å›æº¯æ³• + æ’åº + å»é‡ï¼ˆåŒå±¤ skip / used[]ï¼‰
  - å›æº¯æ³• + å‰è™•ç†ï¼ˆé›œæ¹Šé›†åˆã€é™åˆ¶ bitmaskï¼‰ä»¥åŠ é€Ÿ \`should_prune\`
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 39](https://leetcode.com/problems/combination-sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0039_combination_sum.py)
    - ğŸ”¥ [LeetCode 51](https://leetcode.com/problems/n-queens/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0051_n_queens.py)
    - ğŸ”¥ [LeetCode 78](https://leetcode.com/problems/subsets/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0078_subsets.py)
  - **é«˜é »ï¼ˆâ­ï¼‰**
    - â­ [LeetCode 46](https://leetcode.com/problems/permutations/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0046_permutations.py)
    - â­ [LeetCode 47](https://leetcode.com/problems/permutations-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0047_permutations_ii.py)
    - â­ [LeetCode 90](https://leetcode.com/problems/subsets-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0090_subsets_ii.py)
    - â­ [LeetCode 40](https://leetcode.com/problems/combination-sum-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0040_combination_sum_ii.py)
    - â­ [LeetCode 131](https://leetcode.com/problems/palindrome-partitioning/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0131_palindrome_partitioning.py)
    - â­ [LeetCode 79](https://leetcode.com/problems/word-search/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0079_word_search.py)
- **å­æ¨£å¼ â†’ é¡Œç›®**
  - **æ’åˆ—**
    - [LeetCode 46](https://leetcode.com/problems/permutations/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0046_permutations.py)
    - [LeetCode 47](https://leetcode.com/problems/permutations-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0047_permutations_ii.py)(æ’åº + åŒå±¤ skip)*
  - **å­é›†åˆ**
    - [LeetCode 78](https://leetcode.com/problems/subsets/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0078_subsets.py)
    - [LeetCode 90](https://leetcode.com/problems/subsets-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0090_subsets_ii.py)(æ’åº + åŒå±¤ skip)*
  - **çµ„åˆï¼ç›®æ¨™æœå°‹**
    - [LeetCode 77](https://leetcode.com/problems/combinations/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0077_combinations.py)
    - [LeetCode 39](https://leetcode.com/problems/combination-sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0039_combination_sum.py)(å…è¨±é‡ç”¨)*
    - [LeetCode 40](https://leetcode.com/problems/combination-sum-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0040_combination_sum_ii.py)(ä¸é‡ç”¨ + å»é‡)*
    - [LeetCode 216](https://leetcode.com/problems/combination-sum-iii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0216_combination_sum_iii.py)(å›ºå®šæ•¸é‡ + å›ºå®šç¸½å’Œ)*
  - **é™åˆ¶å¼æ»¿è¶³**
    - [LeetCode 51](https://leetcode.com/problems/n-queens/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0051_n_queens.py)
    - [LeetCode 52](https://leetcode.com/problems/n-queens-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0052_n_queens_ii.py)
  - **å­—ä¸²åˆ‡åˆ†**
    - [LeetCode 93](https://leetcode.com/problems/restore-ip-addresses/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0093_restore_ip_addresses.py)
    - [LeetCode 131](https://leetcode.com/problems/palindrome-partitioning/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0131_palindrome_partitioning.py)
  - **æ ¼ç‹€è·¯å¾‘æœå°‹**
    - [LeetCode 79](https://leetcode.com/problems/word-search/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0079_word_search.py)

<!-- markmap: fold -->
- **æ¨¡æ¿ï¼ˆé¸æ“‡ â†’ æ¢ç´¢ â†’ å–æ¶ˆé¸æ“‡ï¼‰**
\`\`\`python
def dfs(state):
    if is_solution(state):            # hook
        record(state)
        return
    for choice in choices(state):     # hook
        if should_prune(state, choice):  # hook
            continue
        apply(state, choice)          # hook
        dfs(state)
        undo(state, choice)           # hook
\`\`\`

<!-- markmap: fold -->
- **å»é‡é€ŸæŸ¥è¡¨**
  - æ’åº + åŒå±¤ skipï¼ˆå­é›†åˆï¼çµ„åˆï¼‰ï¼š
\`\`\`python
if i > start and nums[i] == nums[i-1]:
    continue
\`\`\`
  - æ’åº + used[] é™åˆ¶ï¼ˆæ’åˆ—ï¼‰ï¼š
\`\`\`python
if i > 0 and nums[i] == nums[i-1] and not used[i-1]:
    continue
\`\`\`

---

## âš¡ API Kernel: \`GridBFSMultiSource\`ï¼ˆæ³¢å‰ BFSï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šæ ¼ç‹€åœ–ï¼åœ–ï¼›ä¾†æºé›†åˆï¼›ç„¡æ¬Šé‡é‚Šï¼ˆå–®ä½æˆæœ¬ï¼‰
  - **è¼¸å‡º**ï¼šæœ€çŸ­æ™‚é–“ï¼æ­¥æ•¸ã€è·é›¢æ ¼ã€å¯é”æ€§
  - **æ›é‰¤**ï¼š\`neighbors(cell)\`, \`is_valid(cell)\`, \`is_source(cell)\`, \`mark_visited(cell)\`, \`distance[cell]\`
  - **å¤±æ•—æ¨¡å¼**ï¼šè‹¥é‚Šæ¬Šé‡ â‰  1ï¼Œéœ€è¦ Dijkstraï¼›æœªåš visited/dist æª¢æŸ¥è€Œé‡è¨ªæœƒç ´å£æ­£ç¢ºæ€§
- **æ ¸å¿ƒä¸è®Šé‡**ï¼š**ç•¶ä¸€å€‹æ ¼å­è¢« dequeue æ™‚ï¼Œå®ƒè¢«è³¦äºˆçš„è·é›¢/æ™‚é–“å°±æ˜¯æœ€å°å€¼ï¼ˆç¬¬ä¸€æ¬¡åˆ°é”ï¼‰ï¼Œå› ç‚ºä½‡åˆ—æŒ‰è·é›¢å±¤ç´šééæ¸›è™•ç†ï¼›æ‰€æœ‰å…¥ä½‡åˆ—çš„é„°å±…è‹¥å°šæœªèµ°è¨ªï¼Œè·é›¢ = ç•¶å‰+1ã€‚**
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - æ“´æ•£ï¼å‚³æ’­æ¨¡æ“¬ï¼ˆæ„ŸæŸ“ã€å¿«å–æš–æ©Ÿæ³¢ï¼‰
  - æ ¼ç‹€åœ–ï¼åœ°åœ–ä¸Šçš„æœ€è¿‘è¨­æ–½ï¼æœ€çŸ­è¨Šè™Ÿæ™‚é–“
  - é›¢æ•£åœ°åœ–ä¸Šçš„ SLA å¯é”å€åŸŸ
- **çµ„åˆ**
  - BFS + å¤šä¾†æºåˆå§‹åŒ–ï¼šå°‡æ‰€æœ‰ä¾†æºä»¥è·é›¢ 0 å…ˆæ”¾å…¥ä½‡åˆ—
- **é©ç”¨æ–¼â€¦ï¼ä¸é©ç”¨æ–¼â€¦**
  - é©ç”¨æ–¼ï¼šè½‰ç§»ç„¡æ¬Šé‡ï¼ˆæ¯æ­¥æˆæœ¬ç‚º 1ï¼‰
  - ä¸é©ç”¨æ–¼ï¼šæœ‰æ¬Šé‡é‚Šï¼ˆç”¨å„ªå…ˆä½‡åˆ—ï¼Dijkstraï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 994](https://leetcode.com/problems/rotting-oranges/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0994_rotting_oranges.py)
- **æ¨£å¼**
  - æ ¼ç‹€æ“´æ•£ï¼ˆ\`grid_bfs_propagation\`ï¼‰
    - [LeetCode 994](https://leetcode.com/problems/rotting-oranges/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0994_rotting_oranges.py)

<!-- markmap: fold -->
- **æ¨¡æ¿ï¼ˆå¤šä¾†æº BFSï¼‰**
\`\`\`python
from collections import deque

q = deque()
dist = [[-1]*C for _ in range(R)]

for r in range(R):
    for c in range(C):
        if is_source(r, c):           # hook
            q.append((r, c))
            dist[r][c] = 0

while q:
    r, c = q.popleft()
    for nr, nc in neighbors(r, c):    # hook
        if dist[nr][nc] != -1:
            continue
        if not is_valid(nr, nc):      # hook
            continue
        dist[nr][nc] = dist[r][c] + 1
        q.append((nr, nc))
\`\`\`

---

## âš¡ API Kernel: \`MonotonicStack\`ï¼ˆä¸‹ä¸€å€‹æ›´å¤§/æ›´å° + å€é–“æ”¯é…ï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šé™£åˆ—ï¼æ™‚é–“åºåˆ—ï¼›æ¯”è¼ƒæ–¹å‘ï¼ˆéå¢ï¼éæ¸›ï¼‰
  - **è¼¸å‡º**ï¼šä¸‹ä¸€å€‹æ›´å¤§ï¼æ›´å°çš„ç´¢å¼•/å€¼ï¼›ç”¨å‰ä¸€å€‹/ä¸‹ä¸€å€‹æ›´å°çš„é‚Šç•Œæ±‚æœ€å¤§é¢ç©
  - **æ›é‰¤**ï¼š\`while stack and violates_monotone(...)\`, \`pop_action(popped)\`, \`push(i)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šä¸ç­‰è™Ÿç”¨éŒ¯ï¼ˆ\`<\` vs \`<=\`ï¼‰æœƒç ´å£é‡è¤‡å€¼è™•ç†ï¼›å¿˜äº† sentinel å°è‡´æœª flush
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šå †ç–Šä¸­çš„ç´¢å¼•ç¶­æŒå–®èª¿æ€§ï¼ˆå€¼éå¢ï¼éæ¸›ï¼‰ï¼Œä½¿ pop çš„å‡æ”¤è¤‡é›œåº¦ç‚º $O(n)$
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - æ™‚é–“åºåˆ—ã€Œä¸‹ä¸€æ¬¡æ›´é«˜/æ›´ä½ã€æŸ¥è©¢ã€å‘Šè­¦ã€è·¨åº¦è¨ˆç®—
  - ç›´æ–¹åœ–é¡åˆ†æä¸­çš„å€é–“æ”¯é…é‚Šç•Œ
- **çµ„åˆ**
  - å–®èª¿å †ç–Š + æ»‘å‹•è¦–çª—ï¼ˆå»¶ä¼¸ï¼šç”¨å–®èª¿ä½‡åˆ—åšè¦–çª— max/minï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 739](https://leetcode.com/problems/daily-temperatures/description/)
    - ğŸ”¥ [LeetCode 84](https://leetcode.com/problems/largest-rectangle-in-histogram/description/)
  - **é«˜é »ï¼ˆâ­ï¼‰**
    - â­ [LeetCode 496](https://leetcode.com/problems/next-greater-element-i/description/)
- **æ¨£å¼ â†’ é¡Œç›®**
  - ä¸‹ä¸€å€‹æ›´å¤§å…ƒç´ ï¼ˆ\`next_greater_element\`ï¼‰
    - [LeetCode 739](https://leetcode.com/problems/daily-temperatures/description/)
    - [LeetCode 496](https://leetcode.com/problems/next-greater-element-i/description/)
  - ç›´æ–¹åœ–æœ€å¤§çŸ©å½¢ï¼ˆ\`histogram_max_rectangle\`ï¼‰
    - [LeetCode 84](https://leetcode.com/problems/largest-rectangle-in-histogram/description/)

---

## âš¡ API Kernel: \`TreeTraversalDFS\`ï¼ˆæ¨¹ä¸Šçš„éè¿´ï¼è¿­ä»£ DFSï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šäºŒå…ƒæ¨¹ç¯€é»ï¼ˆæˆ– N å…ƒæ¨¹ï¼‰ï¼›å…è¨±éè¿´ï¼å †ç–Š
  - **è¼¸å‡º**ï¼šå½™ç¸½å€¼ã€å¸ƒæ—å€¼ã€è·¯å¾‘ã€LCA ç¯€é»
  - **æ›é‰¤**ï¼š\`visit(node)\`, \`combine(left, right)\`, \`base_case(None)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šæ·±æ¨¹é€ æˆå †ç–Šæº¢ä½ï¼ˆæ”¹è¿­ä»£ï¼‰ï¼›æ··æ·† preorder/inorder/postorder èªæ„
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šæ¯æ¬¡å‘¼å«å›å‚³å…¶å­æ¨¹çš„æ­£ç¢ºçµæœï¼›combine æ˜¯çˆ¶ç¯€é»å”¯ä¸€ä¾è³´å­ç¯€é»çµæœçš„åœ°æ–¹
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - éšå±¤å¼å½™ç¸½ã€é©—è­‰ã€åœ¨æ¨¹ç‹€è³‡æ–™æ¨¡å‹ä¸­æŸ¥æ‰¾
- **çµ„åˆ**
  - DFS + é›œæ¹Šè¡¨ï¼ˆè¿½è¹¤ parent æŒ‡æ¨™ï¼æ·±åº¦ï¼‰åš LCA å»¶ä¼¸
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 104](https://leetcode.com/problems/maximum-depth-of-binary-tree/description/)
    - ğŸ”¥ [LeetCode 98](https://leetcode.com/problems/validate-binary-search-tree/description/)
    - ğŸ”¥ [LeetCode 236](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree/description/)
- **æ¨£å¼ â†’ é¡Œç›®**
  - éè¿´ DFSï¼ˆ\`tree_dfs_recursive\`ï¼‰
    - [LeetCode 104](https://leetcode.com/problems/maximum-depth-of-binary-tree/description/)
    - [LeetCode 98](https://leetcode.com/problems/validate-binary-search-tree/description/)
    - [LeetCode 236](https://leetcode.com/problems/lowest-common-ancestor-of-a-binary-tree/description/)

---

## âš¡ API Kernel: \`TreeTraversalBFS\`ï¼ˆå±¤åºèµ°è¨ªï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šæ¨¹æ ¹ï¼›ä½‡åˆ—
  - **è¼¸å‡º**ï¼šå„å±¤åˆ—è¡¨ã€æœ€å°æ·±åº¦ã€å³è¦–åœ–é¡å»¶ä¼¸
  - **æ›é‰¤**ï¼š\`enqueue(children)\`, \`process_level(level_nodes)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šæ²’ç”¨ queue-size å¿«ç…§è€ŒæŠŠä¸åŒå±¤æ··åœ¨ä¸€èµ·
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šä½‡åˆ—æ°å¥½ä¿å­˜ä¸‹ä¸€å€‹ frontierï¼›ä¸€æ¬¡è™•ç†ä¸€å€‹ã€Œå±¤æ‰¹æ¬¡ã€å°æ‡‰å›ºå®šæ·±åº¦
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - éšå±¤å¼ä»»å‹™çš„å»£åº¦å„ªå…ˆè™•ç†ï¼›æŒ‰å±¤æ‰¹æ¬¡è™•ç†
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 102](https://leetcode.com/problems/binary-tree-level-order-traversal/description/)
- **æ¨£å¼ â†’ é¡Œç›®**
  - å±¤åºï¼ˆ\`bfs_level_order\`ï¼‰
    - [LeetCode 102](https://leetcode.com/problems/binary-tree-level-order-traversal/description/)

---

## âš¡ API Kernel: \`DPSequence\`ï¼ˆåºåˆ—ä¸Šçš„ä¸€ç¶­ DPï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šåºåˆ—ï¼›éæ¨å¼ï¼›base cases
  - **è¼¸å‡º**ï¼šæœ€å°ï¼æœ€å¤§è¨ˆæ•¸/å€¼ï¼›æ–¹æ³•æ•¸
  - **æ›é‰¤**ï¼š\`transition(i, ...)\`, \`init_dp\`, \`answer(dp)\`
  - **å¤±æ•—æ¨¡å¼**ï¼šbase cases éŒ¯èª¤ï¼›æœªå„ªåŒ–è€Œè®“è½‰ç§»è®Šæˆ $O(n^2)$
- **æ ¸å¿ƒä¸è®Šé‡**ï¼š\`dp[i]\` ä»£è¡¨ä»¥ \`i\` çµå°¾çš„å‰ç¶´ï¼ˆæˆ–é•·åº¦ \`i\`ï¼‰çš„æœ€ä½³ï¼ç¸½å’Œçµæœ
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - ä¾æ™‚é–“æ­¥é©Ÿçš„æˆæœ¬æœ€ä½³åŒ–ï¼›ç°¡å–®è¦åŠƒï¼é æ¸¬éæ¨
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 70](https://leetcode.com/problems/climbing-stairs/description/)
    - ğŸ”¥ [LeetCode 198](https://leetcode.com/problems/house-robber/description/)
    - ğŸ”¥ [LeetCode 322](https://leetcode.com/problems/coin-change/description/)
- **æ¨£å¼ â†’ é¡Œç›®**
  - Fibonacci é¢¨æ ¼ï¼ˆ\`dp_fibonacci_style\`ï¼‰
    - [LeetCode 70](https://leetcode.com/problems/climbing-stairs/description/)
    - [LeetCode 198](https://leetcode.com/problems/house-robber/description/)
  - èƒŒåŒ…é¢¨æ ¼ï¼ˆ\`dp_knapsack\`ï¼‰
    - [LeetCode 322](https://leetcode.com/problems/coin-change/description/)

---

## âš¡ API Kernel: \`DPInterval\`ï¼ˆå€é–“ DPï¼‰
- **Kernel åˆç´„**
  - **è¼¸å…¥**ï¼šå­—ä¸²ï¼é™£åˆ—ï¼›å€é–“å®šç¾©ï¼›å¡«è¡¨é †åº
  - **è¼¸å‡º**ï¼šå¸ƒæ—ï¼è¡¨æ ¼ã€æœ€å°åˆ‡å‰²æ•¸ã€æœ€å¤§é•·åº¦ã€è¨ˆæ•¸
  - **æ›é‰¤**ï¼š\`dp[l][r]\`, \`combine(subintervals)\`, iteration order by length
  - **å¤±æ•—æ¨¡å¼**ï¼šå¡«è¡¨é †åºéŒ¯ï¼›æ²’æœ‰å‰ªæ/å„ªåŒ–å°è‡´ $O(n^3)$ çˆ†ç‚¸
- **æ ¸å¿ƒä¸è®Šé‡**ï¼šä¸€æ—¦æ‰€æœ‰è½‰ç§»éœ€è¦çš„æ›´å°å­å€é–“éƒ½å·²ç®—å‡ºï¼Œ\`dp[l][r]\` å°±æ˜¯æ­£ç¢ºçš„
- **å·¥ä½œä¸Šæœƒç”¨åˆ°çš„åœ°æ–¹**
  - å­å­—ä¸²ï¼å€é–“æœ€ä½³åŒ–ï¼ˆæ±ºç­–æœƒåˆ‡åˆ†å€é–“ï¼‰
- **å¿…æœƒï¼ˆğŸ”¥ï¼‰ï¼é«˜é »ï¼ˆâ­ï¼‰**
  - **å¿…æœƒï¼ˆğŸ”¥ï¼‰**
    - ğŸ”¥ [LeetCode 1143](https://leetcode.com/problems/find-smallest-common-element-in-all-rows/description/)
- **æ¨£å¼ â†’ é¡Œç›®**
  - å›æ–‡ï¼å€é–“ DPï¼ˆ\`dp_palindrome\`ï¼‰
    - [LeetCode 1143](https://leetcode.com/problems/find-smallest-common-element-in-all-rows/description/)

---

## ğŸ§­ Roadmap åˆ‡ç‰‡ï¼ˆä¾†è‡ªä½ çš„è³‡æ–™ï¼‰
- **å»ºè­°å­¸ç¿’é †åºï¼ˆkernel åºåˆ—ï¼‰**
  1) é›œæ¹Šè¡¨åŸºç¤ï¼ˆ\`HashMapLookup\`ï¼‰+ é›™æŒ‡æ¨™/writer
  2) æ»‘å‹•è¦–çª—
  3) äºŒåˆ†æœå°‹ï¼ˆç´¢å¼•é‚Šç•Œï¼ç­”æ¡ˆç©ºé–“ï¼åˆ†å‰²ç´¢å¼•ï¼‰
  4) å †ç©/top-k
  5) éˆçµä¸²åˆ—æŒ‡æ¨™æ¨£å¼
  6) BFS/DFSï¼ˆæ ¼ç‹€åœ– + æ¨¹ï¼‰
  7) å›æº¯æ³•
  8)ï¼ˆDPã€å–®èª¿å †ç–Šï¼‰
- **NeetCode 150 éŒ¨é»ï¼ˆé«˜æŠ•å ±ç‡ï¼‰**
  - æ»‘å‹•è¦–çª—ï¼š[LeetCode 3](https://leetcode.com/problems/longest-substring-without-repeating-characters/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0003_longest_substring_without_repeating_characters.py)
  - é›™æŒ‡æ¨™ï¼š[LeetCode 11](https://leetcode.com/problems/container-with-most-water/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0011_container_with_most_water.py)
  - å›æº¯æ³•ï¼š[LeetCode 39](https://leetcode.com/problems/combination-sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0039_combination_sum.py)
  - åœ– BFSï¼š[LeetCode 994](https://leetcode.com/problems/rotting-oranges/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0994_rotting_oranges.py)
  - å †ç©/é¸æ“‡ï¼š[LeetCode 215](https://leetcode.com/problems/kth-largest-element-in-an-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0215_kth_largest_element_in_an_array.py)

---

## ğŸã€Œæ¥ä¸‹ä¾†å‘¢ï¼Ÿã€è¿·ä½ è·¯å¾‘
- **æ»‘å‹•è¦–çª—ç²¾é€šï¼ˆä¾åºï¼‰**
  - [ ] [LeetCode 3](https://leetcode.com/problems/longest-substring-without-repeating-characters/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0003_longest_substring_without_repeating_characters.py)
  - [ ] [LeetCode 340](https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0340_longest_substring_with_at_most_k_distinct.py)
  - [ ] [LeetCode 76](https://leetcode.com/problems/minimum-window-substring/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0076_minimum_window_substring.py)
  - [ ] [LeetCode 567](https://leetcode.com/problems/permutation-in-string/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0567_permutation_in_string.py)
  - [ ] [LeetCode 438](https://leetcode.com/problems/find-all-anagrams-in-a-string/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0438_find_all_anagrams_in_a_string.py)
  - [ ] [LeetCode 209](https://leetcode.com/problems/minimum-size-subarray-sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0209_minimum_size_subarray_sum.py)

- **å›æº¯æ³•ç²¾é€šï¼ˆä¾åºï¼‰**
  - [ ] [LeetCode 78](https://leetcode.com/problems/subsets/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0078_subsets.py)
  - [ ] [LeetCode 90](https://leetcode.com/problems/subsets-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0090_subsets_ii.py)
  - [ ] [LeetCode 46](https://leetcode.com/problems/permutations/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0046_permutations.py)
  - [ ] [LeetCode 47](https://leetcode.com/problems/permutations-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0047_permutations_ii.py)
  - [ ] [LeetCode 39](https://leetcode.com/problems/combination-sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0039_combination_sum.py)
  - [ ] [LeetCode 40](https://leetcode.com/problems/combination-sum-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0040_combination_sum_ii.py)
  - [ ] [LeetCode 131](https://leetcode.com/problems/palindrome-partitioning/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0131_palindrome_partitioning.py)
  - [ ] [LeetCode 79](https://leetcode.com/problems/word-search/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0079_word_search.py)
  - [ ] [LeetCode 51](https://leetcode.com/problems/n-queens/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0051_n_queens.py)

- **é›™æŒ‡æ¨™ç²¾é€šï¼ˆä¾åºï¼‰**
  - [ ] [LeetCode 26](https://leetcode.com/problems/remove-duplicates-from-sorted-array/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0026_remove_duplicates_from_sorted_array.py)
  - [ ] [LeetCode 27](https://leetcode.com/problems/remove-element/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0027_remove_element.py)
  - [ ] [LeetCode 283](https://leetcode.com/problems/move-zeroes/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0283_move_zeroes.py)
  - [ ] [LeetCode 11](https://leetcode.com/problems/container-with-most-water/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0011_container_with_most_water.py)
  - [ ] [LeetCode 15](https://leetcode.com/problems/3sum/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0015_3sum.py)
  - [ ] [LeetCode 141](https://leetcode.com/problems/linked-list-cycle/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0141_linked_list_cycle.py)
  - [ ] [LeetCode 142](https://leetcode.com/problems/linked-list-cycle-ii/description/) | [Solution](https://github.com/lufftw/neetcode/blob/main/solutions/0142_linked_list_cycle_ii.py)`;
                    const { root } = transformer.transform(markdown);

                    const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
                    container.appendChild(svg);
                    const m = Markmap.create(svg, { color: (node) => node.payload?.color || '#f59e0b' }, root);
                    svg.mm = m;
                    m.fit();

                    // Attach toolbar if available
                    if (mm.Toolbar) {
                        const toolbar = new mm.Toolbar();
                        toolbar.attach(m);
                        setTimeout(function() {
                            document.querySelectorAll('.mm-toolbar').forEach(function(toolbar) {
                                toolbar.querySelectorAll('.mm-toolbar-item').forEach(function(item) {
                                    if ((item.title || '').toLowerCase().includes('dark')) item.remove();
                                });
                                var brand = toolbar.querySelector('.mm-toolbar-brand');
                                if (brand) {
                                    brand.innerHTML = 'ğŸŸ¡ NeetCode';
                                    brand.href = '#'; brand.onclick = function(e) { e.preventDefault(); };
                                    brand.style.fontSize = '12px'; brand.style.color = '#666';
                                }
                            });
                        }, 200);
                    }
                } catch (error) {
                    console.error("Failed to initialize markmap:", error);
                }
            }

            // Utility functions for topbar buttons
            function fitView() {
                var svg = document.querySelector('.markmap > svg');
                if (svg && svg.mm) svg.mm.fit();
            }
            function expandAll() {
                var svg = document.querySelector('.markmap > svg');
                if (svg && svg.mm) {
                    var root = svg.mm.state.data;
                    (function expand(n) {
                        n.payload = Object.assign({}, n.payload, { fold: 0 });
                        if (n.children) n.children.forEach(expand);
                    })(root);
                    svg.mm.setData(root); svg.mm.fit();
                }
            }
            function collapseAll() {
                var svg = document.querySelector('.markmap > svg');
                if (svg && svg.mm) {
                    var root = svg.mm.state.data;
                    root.children && root.children.forEach(function collapse(n) {
                        if (n.children && n.children.length) {
                            n.payload = Object.assign({}, n.payload, { fold: 1 });
                            n.children.forEach(collapse);
                        }
                    });
                    svg.mm.setData(root); svg.mm.fit();
                }
            }

            // Make functions globally available
            window.fitView = fitView;
            window.expandAll = expandAll;
            window.collapseAll = collapseAll;

            // Expose init function for re-entry (for instant navigation)
            window.__initMindmap = initMindmap;

            // 1) Full page reload - initialize on DOMContentLoaded
            if (document.readyState === "loading") {
                document.addEventListener("DOMContentLoaded", () => initMindmap(), { once: true });
            } else {
                initMindmap();
            }

            // 2) MkDocs Material instant navigation (key lifecycle hook)
            if (window.document$ && typeof window.document$.subscribe === "function") {
                window.document$.subscribe(() => initMindmap());
            }

            // 3) Back/forward cache (BFCache) restoration
            window.addEventListener("pageshow", (e) => {
                if (e.persisted) initMindmap();
            });

            // 4) Additional PJAX/Instant Navigation event support
            document.addEventListener('pjax:end', initMindmap);
            document.addEventListener('pjax:success', initMindmap);
            document.addEventListener('turbolinks:load', initMindmap);
            document.addEventListener('swup:contentReplaced', initMindmap);
            document.addEventListener('swup:pageView', initMindmap);
        })();
    </script>
</head>
<body>
    <div id="topbar">
        <button onclick="fitView()">Fit View</button>
        <button onclick="expandAll()">Expand All</button>
        <button onclick="collapseAll()">Collapse All</button>
    </div>
    <div class="markmap"></div>
</body>
</html>