# Problem Support Configuration
#
# This is a LIVING REGISTRY: updated as problems are added/modified.
# For stable rules and definitions, see: docs/contracts/problem-support-boundary.md
#
# =============================================================================
# Schema Reference
# =============================================================================
#
# tier: "0" | "1" | "1.5" | "2" (string, not number)
# codec_mode: import | inline
# codec_hints: list[string] - codec functions needed
# io_format: string - key referencing format in contract
# inline_reason: string - REQUIRED when codec_mode: inline
# generators:
#   random: bool
#   complexity: bool
#
# =============================================================================
# Hard Rules (from contract)
# =============================================================================
#
# 1. Handwritten solutions are protected (no auto-overwrite)
# 2. inline_reason is REQUIRED when codec_mode: inline
# 3. Tier "1.5" generators default to false
# 4. Canonical semantics must be followed (0-based, -1 for no-result)

# =============================================================================
# Defaults
# =============================================================================
defaults:
  tier: "0"
  codec_mode: import
  scaffold: true
  golden_tests: true
  practice: true
  generators:
    random: true
    complexity: true

# =============================================================================
# Problems
# =============================================================================
problems:
  # ---------------------------------------------------------------------------
  # Tier "1": Standard codec, value-based I/O
  # ---------------------------------------------------------------------------
  # These use default codec_mode: import (DRY)

  "0002":
    tier: "1"
    io_format: list_to_list
    codec_hints: [list_to_linkedlist, linkedlist_to_list]

  "0021":
    tier: "1"
    io_format: two_lists_to_list
    codec_hints: [list_to_linkedlist, linkedlist_to_list]

  "0023":
    tier: "1"
    io_format: list_of_lists_to_list
    codec_hints: [list_to_linkedlist, linkedlist_to_list]

  "0025":
    tier: "1"
    io_format: list_int_to_list
    codec_hints: [list_to_linkedlist, linkedlist_to_list]

  "0141":
    tier: "1"
    io_format: list_with_pos__out_bool
    codec_hints: [build_list_with_cycle]

  "0206":
    tier: "1"
    io_format: list_to_list
    codec_hints: [list_to_linkedlist, linkedlist_to_list]

  "0876":
    tier: "1"
    io_format: list_to_list
    codec_hints: [list_to_linkedlist, linkedlist_to_list]

  # ---------------------------------------------------------------------------
  # Tier "1.5": Custom adapter needed, explicit inline
  # ---------------------------------------------------------------------------
  # These MUST specify codec_mode: inline and inline_reason

  "0142":
    tier: "1.5"
    codec_mode: inline
    inline_reason: "Output is node identity (cycle entry), needs node_to_index adapter"
    io_format: list_with_pos__out_node_index
    codec_hints: [build_list_with_cycle, node_to_index]
    generators:
      random: false
      complexity: false

  "0160":
    tier: "1.5"
    codec_mode: inline
    inline_reason: "Output is shared node identity, needs intersection detection"
    io_format: two_lists_with_skips__out_node_value
    codec_hints: [build_intersecting_lists]
    generators:
      random: false
      complexity: false

  "0138":
    tier: "1.5"
    codec_mode: inline
    inline_reason: "Multi-pointer structure (next + random) + deep copy verification"
    io_format: random_pointer_list
    codec_hints: [build_random_pointer_list, encode_random_pointer_list]
    generators:
      random: false
      complexity: false

# =============================================================================
# Tier "2": Future work (tracking only)
# =============================================================================
tier2:
  - "0133"  # Clone Graph
  - "0297"  # Serialize and Deserialize Binary Tree
  - "0430"  # Flatten a Multilevel Doubly Linked List
  - "0323"  # Number of Connected Components (Graph)
